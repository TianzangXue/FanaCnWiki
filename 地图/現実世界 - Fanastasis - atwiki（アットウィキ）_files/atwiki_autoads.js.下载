/*! For license information please see atwiki_autoads.js.LICENSE.txt */
(()=>{var t={5089:(t,e,r)=>{var n=r(930),o=r(9268),i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not a function")}},4226:(t,e,r)=>{var n=r(4004).has;t.exports=function(t){return n(t),t}},6112:(t,e,r)=>{var n=r(8759),o=String,i=TypeError;t.exports=function(t){if(n(t))return t;throw i(o(t)+" is not an object")}},6198:(t,e,r)=>{var n=r(4088),o=r(7740),i=r(2871),a=function(t){return function(e,r,a){var s,u=n(e),l=i(u),c=o(a,l);if(t&&r!=r){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2306:(t,e,r)=>{var n=r(8240),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},8474:(t,e,r)=>{var n=r(9606),o=r(6095),i=r(4399),a=r(7826);t.exports=function(t,e,r){for(var s=o(e),u=a.f,l=i.f,c=0;c<s.length;c++){var p=s[c];n(t,p)||r&&n(r,p)||u(t,p,l(e,p))}}},2585:(t,e,r)=>{var n=r(5283),o=r(7826),i=r(5736);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},5736:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1343:(t,e,r)=>{var n=r(930),o=r(7826),i=r(3712),a=r(9444);t.exports=function(t,e,r,s){s||(s={});var u=s.enumerable,l=void 0!==s.name?s.name:e;if(n(r)&&i(r,l,s),s.global)u?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=r:o.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},9444:(t,e,r)=>{var n=r(2086),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},5283:(t,e,r)=>{var n=r(3677);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7886:t=>{var e="object"==typeof document&&document.all,r=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},821:(t,e,r)=>{var n=r(2086),o=r(8759),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},4999:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},1448:(t,e,r)=>{var n,o,i=r(2086),a=r(4999),s=i.process,u=i.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(o=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},8684:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1695:(t,e,r)=>{var n=r(2086),o=r(4399).f,i=r(2585),a=r(1343),s=r(9444),u=r(8474),l=r(7189);t.exports=function(t,e){var r,c,p,f,d,g=t.target,h=t.global,b=t.stat;if(r=h?n:b?n[g]||s(g,{}):(n[g]||{}).prototype)for(c in e){if(f=e[c],p=t.dontCallGetSet?(d=o(r,c))&&d.value:r[c],!l(h?c:g+(b?".":"#")+c,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;u(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),a(r,c,f,t)}}},3677:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},6059:(t,e,r)=>{var n=r(3677);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9413:(t,e,r)=>{var n=r(6059),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},4398:(t,e,r)=>{var n=r(5283),o=r(9606),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,l=s&&(!n||n&&a(i,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},8240:(t,e,r)=>{var n=r(6059),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);t.exports=n?a:function(t){return function(){return i.apply(t,arguments)}}},563:(t,e,r)=>{var n=r(2086),o=r(930);t.exports=function(t,e){return arguments.length<2?(r=n[t],o(r)?r:void 0):n[t]&&n[t][e];var r}},2964:(t,e,r)=>{var n=r(5089),o=r(1858);t.exports=function(t,e){var r=t[e];return o(r)?void 0:n(r)}},2086:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},9606:(t,e,r)=>{var n=r(8240),o=r(3060),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},7153:t=>{t.exports={}},6761:(t,e,r)=>{var n=r(5283),o=r(3677),i=r(821);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},5974:(t,e,r)=>{var n=r(8240),o=r(3677),i=r(2306),a=Object,s=n("".split);t.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?s(t,""):a(t)}:a},9277:(t,e,r)=>{var n=r(8240),o=r(930),i=r(4489),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},3278:(t,e,r)=>{var n,o,i,a=r(640),s=r(2086),u=r(8759),l=r(2585),c=r(9606),p=r(4489),f=r(8944),d=r(7153),g="Object already initialized",h=s.TypeError,b=s.WeakMap;if(a||p.state){var v=p.state||(p.state=new b);v.get=v.get,v.has=v.has,v.set=v.set,n=function(t,e){if(v.has(t))throw h(g);return e.facade=t,v.set(t,e),e},o=function(t){return v.get(t)||{}},i=function(t){return v.has(t)}}else{var m=f("state");d[m]=!0,n=function(t,e){if(c(t,m))throw h(g);return e.facade=t,l(t,m,e),e},o=function(t){return c(t,m)?t[m]:{}},i=function(t){return c(t,m)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw h("Incompatible receiver, "+t+" required");return r}}}},930:(t,e,r)=>{var n=r(7886),o=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===o}:function(t){return"function"==typeof t}},7189:(t,e,r)=>{var n=r(3677),o=r(930),i=/#|\.prototype\./,a=function(t,e){var r=u[s(t)];return r==c||r!=l&&(o(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},1858:t=>{t.exports=function(t){return null==t}},8759:(t,e,r)=>{var n=r(930),o=r(7886),i=o.all;t.exports=o.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===i}:function(t){return"object"==typeof t?null!==t:n(t)}},3296:t=>{t.exports=!1},2071:(t,e,r)=>{var n=r(563),o=r(930),i=r(5516),a=r(1876),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return o(e)&&i(e.prototype,s(t))}},2871:(t,e,r)=>{var n=r(4005);t.exports=function(t){return n(t.length)}},3712:(t,e,r)=>{var n=r(8240),o=r(3677),i=r(930),a=r(9606),s=r(5283),u=r(4398).CONFIGURABLE,l=r(9277),c=r(3278),p=c.enforce,f=c.get,d=String,g=Object.defineProperty,h=n("".slice),b=n("".replace),v=n([].join),m=s&&!o((function(){return 8!==g((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=t.exports=function(t,e,r){"Symbol("===h(d(e),0,7)&&(e="["+b(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||u&&t.name!==e)&&(s?g(t,"name",{value:e,configurable:!0}):t.name=e),m&&r&&a(r,"arity")&&t.length!==r.arity&&g(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&g(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=p(t);return a(n,"source")||(n.source=v(y,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return i(this)&&f(this).source||l(this)}),"toString")},5681:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},7826:(t,e,r)=>{var n=r(5283),o=r(6761),i=r(8202),a=r(6112),s=r(2258),u=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p="enumerable",f="configurable",d="writable";e.f=n?i?function(t,e,r){if(a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=c(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:p in r?r[p]:n[p],writable:!1})}return l(t,e,r)}:l:function(t,e,r){if(a(t),e=s(e),a(r),o)try{return l(t,e,r)}catch(t){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},4399:(t,e,r)=>{var n=r(5283),o=r(9413),i=r(7446),a=r(5736),s=r(4088),u=r(2258),l=r(9606),c=r(6761),p=Object.getOwnPropertyDescriptor;e.f=n?p:function(t,e){if(t=s(t),e=u(e),c)try{return p(t,e)}catch(t){}if(l(t,e))return a(!o(i.f,t,e),t[e])}},62:(t,e,r)=>{var n=r(1352),o=r(8684).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},6952:(t,e)=>{e.f=Object.getOwnPropertySymbols},5516:(t,e,r)=>{var n=r(8240);t.exports=n({}.isPrototypeOf)},1352:(t,e,r)=>{var n=r(8240),o=r(9606),i=r(4088),a=r(6198).indexOf,s=r(7153),u=n([].push);t.exports=function(t,e){var r,n=i(t),l=0,c=[];for(r in n)!o(s,r)&&o(n,r)&&u(c,r);for(;e.length>l;)o(n,r=e[l++])&&(~a(c,r)||u(c,r));return c}},7446:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7999:(t,e,r)=>{var n=r(9413),o=r(930),i=r(8759),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&o(r=t.toString)&&!i(s=n(r,t)))return s;if(o(r=t.valueOf)&&!i(s=n(r,t)))return s;if("string"!==e&&o(r=t.toString)&&!i(s=n(r,t)))return s;throw a("Can't convert object to primitive value")}},6095:(t,e,r)=>{var n=r(563),o=r(8240),i=r(62),a=r(6952),s=r(6112),u=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(s(t)),r=a.f;return r?u(e,r(t)):e}},9586:(t,e,r)=>{var n=r(1858),o=TypeError;t.exports=function(t){if(n(t))throw o("Can't call method on "+t);return t}},8944:(t,e,r)=>{var n=r(9197),o=r(5422),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},4489:(t,e,r)=>{var n=r(2086),o=r(9444),i="__core-js_shared__",a=n[i]||o(i,{});t.exports=a},9197:(t,e,r)=>{var n=r(3296),o=r(4489);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5558:(t,e,r)=>{var n=r(1448),o=r(3677);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7740:(t,e,r)=>{var n=r(9502),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},4088:(t,e,r)=>{var n=r(5974),o=r(9586);t.exports=function(t){return n(o(t))}},9502:(t,e,r)=>{var n=r(5681);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},4005:(t,e,r)=>{var n=r(9502),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},3060:(t,e,r)=>{var n=r(9586),o=Object;t.exports=function(t){return o(n(t))}},1288:(t,e,r)=>{var n=r(9413),o=r(8759),i=r(2071),a=r(2964),s=r(7999),u=r(211),l=TypeError,c=u("toPrimitive");t.exports=function(t,e){if(!o(t)||i(t))return t;var r,u=a(t,c);if(u){if(void 0===e&&(e="default"),r=n(u,t,e),!o(r)||i(r))return r;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2258:(t,e,r)=>{var n=r(1288),o=r(2071);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},9268:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},5422:(t,e,r)=>{var n=r(8240),o=0,i=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},1876:(t,e,r)=>{var n=r(5558);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8202:(t,e,r)=>{var n=r(5283),o=r(3677);t.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},640:(t,e,r)=>{var n=r(2086),o=r(930),i=n.WeakMap;t.exports=o(i)&&/native code/.test(String(i))},4004:(t,e,r)=>{var n=r(8240),o=WeakMap.prototype;t.exports={WeakMap,set:n(o.set),get:n(o.get),has:n(o.has),remove:n(o.delete)}},211:(t,e,r)=>{var n=r(2086),o=r(9197),i=r(9606),a=r(5422),s=r(5558),u=r(1876),l=n.Symbol,c=o("wks"),p=u?l.for||l:l&&l.withoutSetter||a;t.exports=function(t){return i(c,t)||(c[t]=s&&i(l,t)?l[t]:p("Symbol."+t)),c[t]}},4182:(t,e,r)=>{"use strict";var n=r(1695),o=r(4226),i=r(4004).remove;n({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),r=!0,n=0,a=arguments.length;n<a;n++)t=i(e,arguments[n]),r=r&&t;return!!r}})},663:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var r=e.querySelector("img"),n=!1;null===r&&(r=document.createElement("img"),n=!0),t&&e.getAttribute("data-iesrc")&&(r.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(r.alt=e.getAttribute("data-alt")),n&&e.append(r)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var o=e.children,i=void 0,a=0;a<=o.length-1;a++)(i=o[a].getAttribute("data-src"))&&(o[a].src=i);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var s=",";if(e.getAttribute("data-background-delimiter")&&(s=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(s).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var u=e.getAttribute("data-background-image-set").split(s),l=u[0].substr(0,u[0].indexOf(" "))||u[0];l=-1===l.indexOf("url(")?"url("+l+")":l,1===u.length?e.style.backgroundImage=l:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+l+"; background-image: -webkit-image-set("+u+"); background-image: image-set("+u+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function r(t){t.setAttribute("data-loaded",!0)}var n=function(t){return"true"===t.getAttribute("data-loaded")},o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,i,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},u=Object.assign({},e,s),l=u.root,c=u.rootMargin,p=u.threshold,f=u.load,d=u.loaded,g=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(g=new IntersectionObserver((t=f,i=d,function(e,o){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(o.unobserve(e.target),n(e.target)||(t(e.target),r(e.target),i(e.target)))}))}),{root:l,rootMargin:c,threshold:p}));for(var h,b=o(a,l),v=0;v<b.length;v++)(h=b[v]).getAttribute("data-placeholder-background")&&(h.style.background=h.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=o(a,l),e=0;e<t.length;e++)n(t[e])||(g?g.observe(t[e]):(f(t[e]),r(t[e]),d(t[e])))},triggerLoad:function(t){n(t)||(f(t),r(t),d(t))},observer:g}}}()},5311:t=>{"use strict";t.exports=jQuery}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(4182);var t=r(663),e=r.n(t);const n=window.top.document.querySelector("meta[name=atwiki-page-info]"),o=JSON.parse(n.dataset.pageInfoJson),i=(o.wikiid,o.isSp),a=o.isRwdSp,s=(o.templateId,o.displayads,o.articlePageid,o.menubarPageid,o.menubar2Pageid,o.hedit,o.articleHedit,o.menubarHedit,o.menubar2Hedit,i||a?"atwiki_sp_autoads":"atwiki_in_article");class u{constructor(t){var e,r,n;e=this,n=!1,(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(r="adserverRequestSent"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,void 0!==t&&(this.enablePbjsFlux=this.isPbjsFlux(),this.apstagSlots={slots:t},this.pbjstagSlots=this.pbjstagSlotsFlux(t))}async requestBids(){const t=this.apsfetchBidsAsync(),e=this.pbjsrequestBidsAsync();await Promise.all([t,e]),this.sendAdserverRequest()}pbjstagSlotsFlux(t){return!!this.enablePbjsFlux&&t.map((t=>({code:t.slotName,id:t.slotID})))}sendAdserverRequest(){if(!0!==this.adserverRequestSent)return this.adserverRequestSent=!0,apstag.setDisplayBids(),this.enablePbjsFlux&&pbjs.setTargetingForGPTAsync(this.pbjstagSlots.map((t=>t.id))),!0}apsfetchBidsAsync(){return new Promise((t=>{apstag.fetchBids(this.apstagSlots,t)}))}pbjsrequestBidsAsync(){return this.enablePbjsFlux?new Promise((t=>{pbFlux.refresh({lines:this.pbjstagSlots,callback:t})})):Promise.resolve(1)}isFn(t){return"[object Function]"===Object.prototype.toString.call(t)}isPbjsFlux(){return!!(window.pbFlux&&pbFlux.refresh&&this.isFn(pbFlux.refresh)&&pbjs.setTargetingForGPTAsync&&this.isFn(pbjs.setTargetingForGPTAsync))}}var l=r(5311);function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function f(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,g(t,e,"set"),r),r}function d(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,g(t,e,"get"))}function g(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var h=new WeakMap,b=new WeakMap,v=new WeakMap,m=new WeakMap,y=new WeakMap,w=new WeakMap,x=new WeakMap,S=new WeakMap,j=new WeakMap,k=new WeakMap;class A{constructor(t){p(this,h,{writable:!0,value:i||a}),p(this,b,{writable:!0,value:0}),c(this,"max_ads",d(this,h)?7:3),c(this,"adslotname",s),c(this,"position_top",d(this,h)?parseInt("450")??500:850),c(this,"position_bottom",850),c(this,"ads_distance",850),c(this,"image_distance",100),p(this,v,{writable:!0,value:5}),p(this,m,{writable:!0,value:3}),c(this,"slotid_prefix","gpt-"),p(this,y,{writable:!0,value:"atwiki_autoads_lazy"}),p(this,w,{writable:!0,value:"100%"}),p(this,x,{writable:!0,value:""}),p(this,S,{writable:!0,value:["table","ul",".atwiki_plugin_divclass",".atwiki_plugin_region",".plugin_openclose",".plugin_aa"].join()}),p(this,j,{writable:!0,value:["H2","H3","H4","H5","H6","A","IMG"]}),p(this,k,{writable:!0,value:[]}),Object.assign(this,{debug:t})}generateNextSlotName(){var t;return d(this,b)<this.max_ads&&this.adslotname+f(this,b,(t=d(this,b),++t))}getElementBottom(t){return!(t.length<1)&&this.getElementTop(t)+t.height()}getElementTop(t){return!(t.length<1)&&t.offset().top}echoConsole(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.debug&&(console.log(`=== atwiki autoads === ${t}`),""!==e&&console.log(e))}judgeAds(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.length<1)return!1;if(d(this,k).length>=this.max_ads)return!0;if(!e&&!d(this,h))return!0;const r=!e,n=r?this.getElementBottom(t):this.getElementTop(t),o=t.closest(".atwiki-sp-contents, #wikibody"),i=t.prop("tagName");if(n-this.getElementTop(o)<this.position_top)return this.echoConsole("ads not inserted, reason the element and article's top are close",t),!1;if(this.getElementBottom(o)-n<this.position_bottom)return this.echoConsole("element is nearly article bottom not inserted",t),!0;if(t.parents(d(this,S)).length>0)return this.echoConsole("parents class match not inserted",t),!1;if("BR"===i){let e=t.get(0);for(let r=0;r<d(this,m);r++){if(e=e.previousSibling,"\n"===e?.nodeValue&&(e=e.previousSibling),null===e)return!1;if("BR"!==e.nodeName)return this.echoConsole("prevSibling match not br",t),!1}}else if("UL"===i&&t.find("li").length<d(this,v))return this.echoConsole("element have only little li",t),!1;let a=r?t.next():t.prev();if(a.length>0){if(d(this,j).includes(a.prop("tagName")))return this.echoConsole("element is nearly ignore tag",t),!1;const e="UL"===t.prop("tagName")?t:t.prev(),o=this.getElementBottom(e.find("img:last"));if(o.length>0&&n-o<this.image_distance)return this.echoConsole("element is close to prev img tag",t),!1;if(r){const e=this.getElementTop(a.find("img:first"));if(e.length>0&&e-n<this.image_distance)return this.echoConsole("element is close to next img tag",t),!1}}if(d(this,k).length>0)if(e){const t=d(this,k)[d(this,k).length-1].element;if(n-this.getElementTop(t)<this.ads_distance)return this.echoConsole("before ads is nearly not inserted"),!1}else for(let e=0;e<d(this,k).length;e++){const r=this.getElementBottom(t)-d(this,k)[e].offsetTop;if(-this.ads_distance<=r&&r<=this.ads_distance)return this.echoConsole("before ads is nearly not inserted",t),!1}return d(this,k).push({element:t,isAfter:r,offsetTop:n}),d(this,k).length}addAds(){return!(d(this,k).length<1||(d(this,k).sort(((t,e)=>t.offsetTop-e.offsetTop)),d(this,k).forEach((t=>{const e=t.element,r=t.isAfter;if(e.length<1)return!1;const n=this.generateNextSlotName();if(!1===n)return!1;const o=`${this.slotid_prefix}${n}`,i=r?"after":"before";if(!0===this.debug)return void e[i](l("<div>",{id:o,"data-slotname":n,class:"atwiki-ads-dummy atwiki-text-center uk-text-center"}));const a=d(this,b)===(parseInt("0")??0)?"atwiki-ads-margin atwiki-text-center uk-text-center":"atwiki-ads-margin atwiki-text-center uk-text-center atwiki-sticky-ads-frame",s=d(this,b)===(parseInt("0")??0)?d(this,y):`${d(this,y)} atwiki-sticky-ads`;e[i](l("<div>",{class:a}).append(l("<div>",{id:o,style:"min-height: 250px; min-width: 300px;","data-slotname":n,class:s})))})),f(this,x,e()(`.${d(this,y)}`,{rootMargin:d(this,w),load(t){googletag.cmd.push((async function(){const e=googletag.sizeMapping().addSize([0,0],[[300,250],[320,100],[320,180]]).addSize([350,300],[[300,250],[336,280],[320,100],[320,180]]).addSize([960,300],[[300,250],[336,280]]).build(),r=t.id,n=`/9160377/${t.dataset.slotname}`,o=[[300,250]],i=googletag.defineSlot(n,o,r).defineSizeMapping(e).addService(googletag.pubads());googletag.display(r);const a=new u([{slotID:r,slotName:n,sizes:o}]);await a.requestBids(),googletag.pubads().refresh([i])}))}})),d(this,x).observe(),0))}}r(5311)((function(t){const e=new A,r=[".atwiki-sp-contents","#wikibody"],n=(t,e)=>t.map((t=>`${t} `+e.join(`, ${t} `))).join(),o=n(r,["h2","h3","h4","h5","h6"]);t(o).each((function(){if(!0===e.judgeAds(t(this)))return!1}));const i=n(r,["br","ul"]);t(i).each((function(){if(!0===e.judgeAds(t(this),!1))return!1})),e.addAds()}))})()})();