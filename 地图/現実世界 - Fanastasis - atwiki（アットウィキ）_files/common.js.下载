/*! For license information please see common.js.LICENSE.txt */
(()=>{var t={5530:function(t){t.exports=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,"symbol"==typeof(i=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key))?i:String(i),n)}var i}function e(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r.apply(this,arguments)}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}function a(t,e,r){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&o(i,r.prototype),i},a.apply(null,arguments)}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return a(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)},s(t)}var c,u=function(){this.before=void 0,this.beforeLeave=void 0,this.leave=void 0,this.afterLeave=void 0,this.beforeEnter=void 0,this.enter=void 0,this.afterEnter=void 0,this.after=void 0};!function(t){t[t.off=0]="off",t[t.error=1]="error",t[t.warning=2]="warning",t[t.info=3]="info",t[t.debug=4]="debug"}(c||(c={}));var l=c.off,h=function(){function t(t){this.t=void 0,this.t=t}t.getLevel=function(){return l},t.setLevel=function(t){return l=c[t]};var e=t.prototype;return e.error=function(){this.i(console.error,c.error,[].slice.call(arguments))},e.warn=function(){this.i(console.warn,c.warning,[].slice.call(arguments))},e.info=function(){this.i(console.info,c.info,[].slice.call(arguments))},e.debug=function(){this.i(console.log,c.debug,[].slice.call(arguments))},e.i=function(e,r,n){r<=t.getLevel()&&e.apply(console,["["+this.t+"] "].concat(n))},t}();function f(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function d(t){return t&&t.sensitive?"":"i"}var p={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},g=function(){function t(){this.o=p,this.u=void 0,this.h={after:null,before:null,parent:null}}var e=t.prototype;return e.toString=function(t){return t.outerHTML},e.toDocument=function(t){return this.u||(this.u=new DOMParser),this.u.parseFromString(t,"text/html")},e.toElement=function(t){var e=document.createElement("div");return e.innerHTML=t,e},e.getHtml=function(t){return void 0===t&&(t=document),this.toString(t.documentElement)},e.getWrapper=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},e.getContainer=function(t){return void 0===t&&(t=document),t.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},e.removeContainer=function(t){document.body.contains(t)&&(this.v(t),t.parentNode.removeChild(t))},e.addContainer=function(t,e){var r=this.getContainer()||this.h.before;r?this.l(t,r):this.h.after?this.h.after.parentNode.insertBefore(t,this.h.after):this.h.parent?this.h.parent.appendChild(t):e.appendChild(t)},e.getSibling=function(){return this.h},e.getNamespace=function(t){void 0===t&&(t=document);var e=t.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return e?e.getAttribute(this.o.prefix+"-"+this.o.namespace):null},e.getHref=function(t){if(t.tagName&&"a"===t.tagName.toLowerCase()){if("string"==typeof t.href)return t.href;var e=t.getAttribute("href")||t.getAttribute("xlink:href");if(e)return this.resolveUrl(e.baseVal||e)}return null},e.resolveUrl=function(){var t=[].slice.call(arguments).length;if(0===t)throw new Error("resolveUrl requires at least one argument; got none.");var e=document.createElement("base");if(e.href=arguments[0],1===t)return e.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(e,r.firstChild);for(var n,i=document.createElement("a"),o=1;o<t;o++)i.href=arguments[o],e.href=n=i.href;return r.removeChild(e),n},e.l=function(t,e){e.parentNode.insertBefore(t,e.nextSibling)},e.v=function(t){return this.h={after:t.nextElementSibling,before:t.previousElementSibling,parent:t.parentElement},this.h},t}(),v=new g,m=function(){function t(){this.p=void 0,this.m=[],this.P=-1}var n=t.prototype;return n.init=function(t,e){this.p="barba";var r={data:{},ns:e,scroll:{x:window.scrollX,y:window.scrollY},url:t};this.P=0,this.m.push(r);var n={from:this.p,index:this.P,states:[].concat(this.m)};window.history&&window.history.replaceState(n,"",t)},n.change=function(t,e,r){if(r&&r.state){var n=r.state,i=n.index;e=this.g(this.P-i),this.replace(n.states),this.P=i}else this.add(t,e);return e},n.add=function(t,e,r,n){var i=null!=r?r:this.R(e),o={data:null!=n?n:{},ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:t};switch(i){case"push":this.P=this.size,this.m.push(o);break;case"replace":this.set(this.P,o)}var a={from:this.p,index:this.P,states:[].concat(this.m)};switch(i){case"push":window.history&&window.history.pushState(a,"",t);break;case"replace":window.history&&window.history.replaceState(a,"",t)}},n.store=function(t,e){var n=e||this.P,i=this.get(n);i.data=r({},i.data,t),this.set(n,i);var o={from:this.p,index:this.P,states:[].concat(this.m)};window.history.replaceState(o,"")},n.update=function(t,e){var n=e||this.P,i=r({},this.get(n),t);this.set(n,i)},n.remove=function(t){t?this.m.splice(t,1):this.m.pop(),this.P--},n.clear=function(){this.m=[],this.P=-1},n.replace=function(t){this.m=t},n.get=function(t){return this.m[t]},n.set=function(t,e){return this.m[t]=e},n.R=function(t){var e="push",r=t,n=p.prefix+"-"+p.history;return r.hasAttribute&&r.hasAttribute(n)&&(e=r.getAttribute(n)),e},n.g=function(t){return Math.abs(t)>1?t>0?"forward":"back":0===t?"popstate":t>0?"back":"forward"},e(t,[{key:"current",get:function(){return this.m[this.P]}},{key:"previous",get:function(){return this.P<1?null:this.m[this.P-1]}},{key:"size",get:function(){return this.m.length}}]),t}(),b=new m,w=function(t,e){try{var r=function(){if(!e.next.html)return Promise.resolve(t).then((function(t){var r=e.next;if(t){var n=v.toElement(t.html);r.namespace=v.getNamespace(n),r.container=v.getContainer(n),r.url=t.url,r.html=t.html,b.update({ns:r.namespace});var i=v.toDocument(t.html);document.title=i.title}}))}();return Promise.resolve(r&&r.then?r.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},y=function t(e,r,n){return e instanceof RegExp?function(t,e){if(!e)return t;for(var r=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,i=r.exec(t.source);i;)e.push({name:i[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),i=r.exec(t.source);return t}(e,r):Array.isArray(e)?function(e,r,n){var i=e.map((function(e){return t(e,r,n).source}));return new RegExp("(?:".concat(i.join("|"),")"),d(n))}(e,r,n):function(t,e,r){return function(t,e,r){void 0===r&&(r={});for(var n=r.strict,i=void 0!==n&&n,o=r.start,a=void 0===o||o,s=r.end,c=void 0===s||s,u=r.encode,l=void 0===u?function(t){return t}:u,h=r.delimiter,p=void 0===h?"/#?":h,g=r.endsWith,v="[".concat(f(void 0===g?"":g),"]|$"),m="[".concat(f(p),"]"),b=a?"^":"",w=0,y=t;w<y.length;w++){var k=y[w];if("string"==typeof k)b+=f(l(k));else{var x=f(l(k.prefix)),S=f(l(k.suffix));if(k.pattern)if(e&&e.push(k),x||S)if("+"===k.modifier||"*"===k.modifier){var E="*"===k.modifier?"?":"";b+="(?:".concat(x,"((?:").concat(k.pattern,")(?:").concat(S).concat(x,"(?:").concat(k.pattern,"))*)").concat(S,")").concat(E)}else b+="(?:".concat(x,"(").concat(k.pattern,")").concat(S,")").concat(k.modifier);else b+="+"===k.modifier||"*"===k.modifier?"((?:".concat(k.pattern,")").concat(k.modifier,")"):"(".concat(k.pattern,")").concat(k.modifier);else b+="(?:".concat(x).concat(S,")").concat(k.modifier)}}if(c)i||(b+="".concat(m,"?")),b+=r.endsWith?"(?=".concat(v,")"):"$";else{var P=t[t.length-1],j="string"==typeof P?m.indexOf(P[P.length-1])>-1:void 0===P;i||(b+="(?:".concat(m,"(?=").concat(v,"))?")),j||(b+="(?=".concat(m,"|").concat(v,")"))}return new RegExp(b,d(r))}(function(t,e){void 0===e&&(e={});for(var r=function(t){for(var e=[],r=0;r<t.length;){var n=t[r];if("*"!==n&&"+"!==n&&"?"!==n)if("\\"!==n)if("{"!==n)if("}"!==n)if(":"!==n)if("("!==n)e.push({type:"CHAR",index:r,value:t[r++]});else{var i=1,o="";if("?"===t[s=r+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<t.length;)if("\\"!==t[s]){if(")"===t[s]){if(0==--i){s++;break}}else if("("===t[s]&&(i++,"?"!==t[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));o+=t[s++]}else o+=t[s++]+t[s++];if(i)throw new TypeError("Unbalanced pattern at ".concat(r));if(!o)throw new TypeError("Missing pattern at ".concat(r));e.push({type:"PATTERN",index:r,value:o}),r=s}else{for(var a="",s=r+1;s<t.length;){var c=t.charCodeAt(s);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;a+=t[s++]}if(!a)throw new TypeError("Missing parameter name at ".concat(r));e.push({type:"NAME",index:r,value:a}),r=s}else e.push({type:"CLOSE",index:r,value:t[r++]});else e.push({type:"OPEN",index:r,value:t[r++]});else e.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});else e.push({type:"MODIFIER",index:r,value:t[r++]})}return e.push({type:"END",index:r,value:""}),e}(t),n=e.prefixes,i=void 0===n?"./":n,o="[^".concat(f(e.delimiter||"/#?"),"]+?"),a=[],s=0,c=0,u="",l=function(t){if(c<r.length&&r[c].type===t)return r[c++].value},h=function(t){var e=l(t);if(void 0!==e)return e;var n=r[c],i=n.index;throw new TypeError("Unexpected ".concat(n.type," at ").concat(i,", expected ").concat(t))},d=function(){for(var t,e="";t=l("CHAR")||l("ESCAPED_CHAR");)e+=t;return e};c<r.length;){var p=l("CHAR"),g=l("NAME"),v=l("PATTERN");if(g||v)-1===i.indexOf(b=p||"")&&(u+=b,b=""),u&&(a.push(u),u=""),a.push({name:g||s++,prefix:b,suffix:"",pattern:v||o,modifier:l("MODIFIER")||""});else{var m=p||l("ESCAPED_CHAR");if(m)u+=m;else if(u&&(a.push(u),u=""),l("OPEN")){var b=d(),w=l("NAME")||"",y=l("PATTERN")||"",k=d();h("CLOSE"),a.push({name:w||(y?s++:""),pattern:w&&!y?o:y,prefix:b,suffix:k,modifier:l("MODIFIER")||""})}else h("END")}}return a}(t,r),e,r)}(e,r,n)},k={__proto__:null,update:w,nextTick:function(){return new Promise((function(t){window.requestAnimationFrame(t)}))},pathToRegexp:y},x=function(){return window.location.origin},S=function(t){return void 0===t&&(t=window.location.href),E(t).port},E=function(t){var e,r=t.match(/:\d+/);if(null===r)/^http/.test(t)&&(e=80),/^https/.test(t)&&(e=443);else{var n=r[0].substring(1);e=parseInt(n,10)}var i,o=t.replace(x(),""),a={},s=o.indexOf("#");s>=0&&(i=o.slice(s+1),o=o.slice(0,s));var c=o.indexOf("?");return c>=0&&(a=P(o.slice(c+1)),o=o.slice(0,c)),{hash:i,path:o,port:e,query:a}},P=function(t){return t.split("&").reduce((function(t,e){var r=e.split("=");return t[r[0]]=r[1],t}),{})},j=function(t){return void 0===t&&(t=window.location.href),t.replace(/(\/#.*|\/|#.*)$/,"")},T={__proto__:null,getHref:function(){return window.location.href},getAbsoluteHref:function(t,e){return void 0===e&&(e=document.baseURI),new URL(t,e).href},getOrigin:x,getPort:S,getPath:function(t){return void 0===t&&(t=window.location.href),E(t).path},getQuery:function(t,e){return void 0===e&&(e=!1),e?JSON.stringify(E(t).query):E(t).query},getHash:function(t){return E(t).hash},parse:E,parseQuery:P,clean:j};function O(t,e,n,i,o){return void 0===e&&(e=2e3),new Promise((function(a,s){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){var e=""!==c.responseURL&&c.responseURL!==t?c.responseURL:t;a({html:c.responseText,url:r({href:e},E(e))}),i.update(t,{status:"fulfilled",target:e})}else if(c.status){var o={status:c.status,statusText:c.statusText};n(t,o),s(o),i.update(t,{status:"rejected"})}},c.ontimeout=function(){var r=new Error("Timeout error ["+e+"]");n(t,r),s(r),i.update(t,{status:"rejected"})},c.onerror=function(){var e=new Error("Fetch error");n(t,e),s(e),i.update(t,{status:"rejected"})},c.open("GET",t),c.timeout=e,c.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),c.setRequestHeader("x-barba","yes"),o.all().forEach((function(t,e){c.setRequestHeader(e,t)})),c.send()}))}function A(t,e){return void 0===e&&(e={}),function(){var r=arguments,n=!1,i=new Promise((function(i,o){e.async=function(){return n=!0,function(t,e){t?o(t):i(e)}};var a=t.apply(e,[].slice.call(r));n||(function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}(a)?a.then(i,o):i(a))}));return i}}var _=function(t){function e(){var e;return(e=t.call(this)||this).logger=new h("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}n(e,t);var r=e.prototype;return r.init=function(){var t=this;this.registered.clear(),this.all.forEach((function(e){t[e]||(t[e]=function(r,n){t.registered.has(e)||t.registered.set(e,new Set),t.registered.get(e).add({ctx:n||{},fn:r})})}))},r.do=function(t){var e=arguments,r=this;if(this.registered.has(t)){var n=Promise.resolve();return this.registered.get(t).forEach((function(t){n=n.then((function(){return A(t.fn,t.ctx).apply(void 0,[].slice.call(e,1))}))})),n.catch((function(e){r.logger.debug("Hook error ["+t+"]"),r.logger.error(e)}))}return Promise.resolve()},r.clear=function(){var t=this;this.all.forEach((function(e){delete t[e]})),this.init()},r.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var t=[];this.registered.forEach((function(e,r){return t.push(r)})),this.logger.info("Registered hooks: "+t.join(","))},e}(u),M=new _,R=function(){function t(t){if(this.k=void 0,this.O=[],"boolean"==typeof t)this.k=t;else{var e=Array.isArray(t)?t:[t];this.O=e.map((function(t){return y(t)}))}}return t.prototype.checkHref=function(t){if("boolean"==typeof this.k)return this.k;var e=E(t).path;return this.O.some((function(t){return null!==t.exec(e)}))},t}(),L=function(t){function e(e){var r;return(r=t.call(this,e)||this).T=new Map,r}n(e,t);var i=e.prototype;return i.set=function(t,e,r,n,i){return this.T.set(t,{action:r,request:e,status:n,target:null!=i?i:t}),{action:r,request:e,status:n,target:i}},i.get=function(t){return this.T.get(t)},i.getRequest=function(t){return this.T.get(t).request},i.getAction=function(t){return this.T.get(t).action},i.getStatus=function(t){return this.T.get(t).status},i.getTarget=function(t){return this.T.get(t).target},i.has=function(t){return!this.checkHref(t)&&this.T.has(t)},i.delete=function(t){return this.T.delete(t)},i.update=function(t,e){var n=r({},this.T.get(t),e);return this.T.set(t,n),n},e}(R),C=function(){function t(){this.A=new Map}var e=t.prototype;return e.set=function(t,e){return this.A.set(t,e),{name:e}},e.get=function(t){return this.A.get(t)},e.all=function(){return this.A},e.has=function(t){return this.A.has(t)},e.delete=function(t){return this.A.delete(t)},e.clear=function(){return this.A.clear()},t}(),I=function(){return!window.history.pushState},q=function(t){return!t.el||!t.href},N=function(t){var e=t.event;return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},$=function(t){var e=t.el;return e.hasAttribute("target")&&"_blank"===e.target},H=function(t){var e=t.el;return void 0!==e.protocol&&window.location.protocol!==e.protocol||void 0!==e.hostname&&window.location.hostname!==e.hostname},F=function(t){var e=t.el;return void 0!==e.port&&S()!==S(e.href)},D=function(t){var e=t.el;return e.getAttribute&&"string"==typeof e.getAttribute("download")},W=function(t){return t.el.hasAttribute(p.prefix+"-"+p.prevent)},B=function(t){return Boolean(t.el.closest("["+p.prefix+"-"+p.prevent+'="all"]'))},U=function(t){var e=t.href;return j(e)===j()&&S(e)===S()},z=function(t){function e(e){var r;return(r=t.call(this,e)||this).suite=[],r.tests=new Map,r.init(),r}n(e,t);var r=e.prototype;return r.init=function(){this.add("pushState",I),this.add("exists",q),this.add("newTab",N),this.add("blank",$),this.add("corsDomain",H),this.add("corsPort",F),this.add("download",D),this.add("preventSelf",W),this.add("preventAll",B),this.add("sameUrl",U,!1)},r.add=function(t,e,r){void 0===r&&(r=!0),this.tests.set(t,e),r&&this.suite.push(t)},r.run=function(t,e,r,n){return this.tests.get(t)({el:e,event:r,href:n})},r.checkLink=function(t,e,r){var n=this;return this.suite.some((function(i){return n.run(i,t,e,r)}))},e}(R),J=function(t){function e(r,n){var i;return void 0===n&&(n="Barba error"),(i=t.call.apply(t,[this].concat([].slice.call(arguments,2)))||this).error=void 0,i.label=void 0,i.error=r,i.label=n,Error.captureStackTrace&&Error.captureStackTrace(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i),e),i.name="BarbaError",i}return n(e,t),e}(s(Error)),X=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.all=[],this.page=[],this.once=[],this.j=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],t&&(this.all=this.all.concat(t)),this.update()}var e=t.prototype;return e.add=function(t,e){"rule"===t?this.j.splice(e.position||0,0,e.value):this.all.push(e),this.update()},e.resolve=function(t,e){var r=this;void 0===e&&(e={});var n=e.once?this.once:this.page;n=n.filter(e.self?function(t){return t.name&&"self"===t.name}:function(t){return!t.name||"self"!==t.name});var i=new Map,o=n.find((function(n){var o=!0,a={};return e.self&&"self"===n.name?(i.set(n,a),!0):(r.j.reverse().forEach((function(e){o&&(o=r.M(n,e,t,a),n.from&&n.to&&(o=r.M(n,e,t,a,"from")&&r.M(n,e,t,a,"to")),n.from&&!n.to&&(o=r.M(n,e,t,a,"from")),!n.from&&n.to&&(o=r.M(n,e,t,a,"to")))})),i.set(n,a),o)})),a=i.get(o),s=[];if(s.push(e.once?"once":"page"),e.self&&s.push("self"),a){var c,u=[o];Object.keys(a).length>0&&u.push(a),(c=this.logger).info.apply(c,["Transition found ["+s.join(",")+"]"].concat(u))}else this.logger.info("No transition found ["+s.join(",")+"]");return o},e.update=function(){var t=this;this.all=this.all.map((function(e){return t.N(e)})).sort((function(t,e){return t.priority-e.priority})).reverse().map((function(t){return delete t.priority,t})),this.page=this.all.filter((function(t){return void 0!==t.leave||void 0!==t.enter})),this.once=this.all.filter((function(t){return void 0!==t.once}))},e.M=function(t,e,r,n,i){var o=!0,a=!1,s=t,c=e.name,u=c,l=c,h=c,f=i?s[i]:s,d="to"===i?r.next:r.current;if(i?f&&f[c]:f[c]){switch(e.type){case"strings":default:var p=Array.isArray(f[u])?f[u]:[f[u]];d[u]&&-1!==p.indexOf(d[u])&&(a=!0),-1===p.indexOf(d[u])&&(o=!1);break;case"object":var g=Array.isArray(f[l])?f[l]:[f[l]];d[l]?(d[l].name&&-1!==g.indexOf(d[l].name)&&(a=!0),-1===g.indexOf(d[l].name)&&(o=!1)):o=!1;break;case"function":f[h](r)?a=!0:o=!1}a&&(i?(n[i]=n[i]||{},n[i][c]=s[i][c]):n[c]=s[c])}return o},e.S=function(t,e,r){var n=0;return(t[e]||t.from&&t.from[e]||t.to&&t.to[e])&&(n+=Math.pow(10,r),t.from&&t.from[e]&&(n+=1),t.to&&t.to[e]&&(n+=2)),n},e.N=function(t){var e=this;t.priority=0;var r=0;return this.j.forEach((function(n,i){r+=e.S(t,n.name,i+1)})),t.priority=r,t},t}();function G(t,e){try{var r=t()}catch(t){return e(t)}return r&&r.then?r.then(void 0,e):r}var Q=function(){function t(t){void 0===t&&(t=[]),this.logger=new h("@barba/core"),this.store=void 0,this.C=!1,this.store=new X(t)}var r=t.prototype;return r.get=function(t,e){return this.store.resolve(t,e)},r.doOnce=function(t){var e=t.data,r=t.transition;try{var n=function(){i.C=!1},i=this,o=r||{};i.C=!0;var a=G((function(){return Promise.resolve(i.L("beforeOnce",e,o)).then((function(){return Promise.resolve(i.once(e,o)).then((function(){return Promise.resolve(i.L("afterOnce",e,o)).then((function(){}))}))}))}),(function(t){i.C=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(t)}));return Promise.resolve(a&&a.then?a.then(n):n())}catch(t){return Promise.reject(t)}},r.doPage=function(t){var e=t.data,r=t.transition,n=t.page,i=t.wrapper;try{var o=function(t){a.C=!1},a=this,s=r||{},c=!0===s.sync||!1;a.C=!0;var u=G((function(){function t(){return Promise.resolve(a.L("before",e,s)).then((function(){function t(t){return Promise.resolve(a.remove(e)).then((function(){return Promise.resolve(a.L("after",e,s)).then((function(){}))}))}var r=function(){if(c)return G((function(){return Promise.resolve(a.add(e,i)).then((function(){return Promise.resolve(a.L("beforeLeave",e,s)).then((function(){return Promise.resolve(a.L("beforeEnter",e,s)).then((function(){return Promise.resolve(Promise.all([a.leave(e,s),a.enter(e,s)])).then((function(){return Promise.resolve(a.L("afterLeave",e,s)).then((function(){return Promise.resolve(a.L("afterEnter",e,s)).then((function(){}))}))}))}))}))}))}),(function(t){if(a.H(t))throw new J(t,"Transition error [sync]")}));var t=function(t){return G((function(){var t=function(){if(!1!==r)return Promise.resolve(a.add(e,i)).then((function(){return Promise.resolve(a.L("beforeEnter",e,s)).then((function(){return Promise.resolve(a.enter(e,s,r)).then((function(){return Promise.resolve(a.L("afterEnter",e,s)).then((function(){}))}))}))}))}();if(t&&t.then)return t.then((function(){}))}),(function(t){if(a.H(t))throw new J(t,"Transition error [before/after/enter]")}))},r=!1,o=G((function(){return Promise.resolve(a.L("beforeLeave",e,s)).then((function(){return Promise.resolve(Promise.all([a.leave(e,s),w(n,e)]).then((function(t){return t[0]}))).then((function(t){return r=t,Promise.resolve(a.L("afterLeave",e,s)).then((function(){}))}))}))}),(function(t){if(a.H(t))throw new J(t,"Transition error [before/after/leave]")}));return o&&o.then?o.then(t):t()}();return r&&r.then?r.then(t):t()}))}var r=function(){if(c)return Promise.resolve(w(n,e)).then((function(){}))}();return r&&r.then?r.then(t):t()}),(function(t){if(a.C=!1,t.name&&"BarbaError"===t.name)throw a.logger.debug(t.label),a.logger.error(t.error),t;throw a.logger.debug("Transition error [page]"),a.logger.error(t),t}));return Promise.resolve(u&&u.then?u.then(o):o())}catch(t){return Promise.reject(t)}},r.once=function(t,e){try{return Promise.resolve(M.do("once",t,e)).then((function(){return e.once?A(e.once,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.leave=function(t,e){try{return Promise.resolve(M.do("leave",t,e)).then((function(){return e.leave?A(e.leave,e)(t):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.enter=function(t,e,r){try{return Promise.resolve(M.do("enter",t,e)).then((function(){return e.enter?A(e.enter,e)(t,r):Promise.resolve()}))}catch(t){return Promise.reject(t)}},r.add=function(t,e){try{return v.addContainer(t.next.container,e),M.do("nextAdded",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.remove=function(t){try{return v.removeContainer(t.current.container),M.do("currentRemoved",t),Promise.resolve()}catch(t){return Promise.reject(t)}},r.H=function(t){return t.message?!/Timeout error|Fetch error/.test(t.message):!t.status},r.L=function(t,e,r){try{return Promise.resolve(M.do(t,e,r)).then((function(){return r[t]?A(r[t],r)(e):Promise.resolve()}))}catch(t){return Promise.reject(t)}},e(t,[{key:"isRunning",get:function(){return this.C},set:function(t){this.C=t}},{key:"hasOnce",get:function(){return this.store.once.length>0}},{key:"hasSelf",get:function(){return this.store.all.some((function(t){return"self"===t.name}))}},{key:"shouldWait",get:function(){return this.store.all.some((function(t){return t.to&&!t.to.route||t.sync}))}}]),t}(),K=function(){function t(t){var e=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==t.length&&(t.forEach((function(t){e.byNamespace.set(t.namespace,t)})),this.names.forEach((function(t){M[t](e._(t))})))}return t.prototype._=function(t){var e=this;return function(r){var n=t.match(/enter/i)?r.next:r.current,i=e.byNamespace.get(n.namespace);return i&&i[t]?A(i[t],i)(r):Promise.resolve()}},t}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var V={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}},Y=function(){function t(){this.version="2.10.3",this.schemaPage=V,this.Logger=h,this.logger=new h("@barba/core"),this.plugins=[],this.timeout=void 0,this.cacheIgnore=void 0,this.cacheFirstPage=void 0,this.prefetchIgnore=void 0,this.preventRunning=void 0,this.hooks=M,this.cache=void 0,this.headers=void 0,this.prevent=void 0,this.transitions=void 0,this.views=void 0,this.dom=v,this.helpers=k,this.history=b,this.request=O,this.url=T,this.D=void 0,this.B=void 0,this.q=void 0,this.F=void 0}var n=t.prototype;return n.use=function(t,e){var r=this.plugins;r.indexOf(t)>-1?this.logger.warn("Plugin ["+t.name+"] already installed."):"function"==typeof t.install?(t.install(this,e),r.push(t)):this.logger.warn("Plugin ["+t.name+'] has no "install" method.')},n.init=function(t){var e=void 0===t?{}:t,n=e.transitions,i=void 0===n?[]:n,o=e.views,a=void 0===o?[]:o,s=e.schema,c=void 0===s?p:s,u=e.requestError,l=e.timeout,f=void 0===l?2e3:l,d=e.cacheIgnore,g=void 0!==d&&d,v=e.cacheFirstPage,m=void 0!==v&&v,b=e.prefetchIgnore,w=void 0!==b&&b,y=e.preventRunning,k=void 0!==y&&y,x=e.prevent,S=void 0===x?null:x,E=e.debug,P=e.logLevel;if(h.setLevel(!0===(void 0!==E&&E)?"debug":void 0===P?"off":P),this.logger.info(this.version),Object.keys(c).forEach((function(t){p[t]&&(p[t]=c[t])})),this.B=u,this.timeout=f,this.cacheIgnore=g,this.cacheFirstPage=m,this.prefetchIgnore=w,this.preventRunning=k,this.q=this.dom.getWrapper(),!this.q)throw new Error("[@barba/core] No Barba wrapper found");this.I();var j=this.data.current;if(!j.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new L(g),this.headers=new C,this.prevent=new z(w),this.transitions=new Q(i),this.views=new K(a),null!==S){if("function"!=typeof S)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",S)}this.history.init(j.url.href,j.namespace),m&&this.cache.set(j.url.href,Promise.resolve({html:j.html,url:j.url}),"init","fulfilled"),this.U=this.U.bind(this),this.$=this.$.bind(this),this.X=this.X.bind(this),this.G(),this.plugins.forEach((function(t){return t.init()}));var T=this.data;T.trigger="barba",T.next=T.current,T.current=r({},this.schemaPage),this.hooks.do("ready",T),this.once(T),this.I()},n.destroy=function(){this.I(),this.J(),this.history.clear(),this.hooks.clear(),this.plugins=[]},n.force=function(t){window.location.assign(t)},n.go=function(t,e,r){var n;if(void 0===e&&(e="barba"),this.F=null,this.transitions.isRunning)this.force(t);else if(!(n="popstate"===e?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(t)&&this.url.getQuery(this.history.current.url,!0)===this.url.getQuery(t,!0):this.prevent.run("sameUrl",null,null,t))||this.transitions.hasSelf)return e=this.history.change(this.cache.has(t)?this.cache.get(t).target:t,e,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(t,e,null!=r?r:void 0,n)},n.once=function(t){try{var e=this;return Promise.resolve(e.hooks.do("beforeEnter",t)).then((function(){function r(){return Promise.resolve(e.hooks.do("afterEnter",t)).then((function(){}))}var n=function(){if(e.transitions.hasOnce){var r=e.transitions.get(t,{once:!0});return Promise.resolve(e.transitions.doOnce({transition:r,data:t})).then((function(){}))}}();return n&&n.then?n.then(r):r()}))}catch(t){return Promise.reject(t)}},n.page=function(t,e,n,i){try{var o,a=function(){var t=s.data;return Promise.resolve(s.hooks.do("page",t)).then((function(){var e=function(e,r){try{var n=(a=s.transitions.get(t,{once:!1,self:i}),Promise.resolve(s.transitions.doPage({data:t,page:o,transition:a,wrapper:s.q})).then((function(){s.I()})))}catch(t){return r()}var a;return n&&n.then?n.then(void 0,r):n}(0,(function(){0===h.getLevel()&&s.force(t.next.url.href)}));if(e&&e.then)return e.then((function(){}))}))},s=this;if(s.data.next.url=r({href:t},s.url.parse(t)),s.data.trigger=e,s.data.event=n,s.cache.has(t))o=s.cache.update(t,{action:"click"}).request;else{var c=s.request(t,s.timeout,s.onRequestError.bind(s,e),s.cache,s.headers);c.then((function(r){r.url.href!==t&&s.history.add(r.url.href,e,"replace")})),o=s.cache.set(t,c,"click","pending").request}var u=function(){if(s.transitions.shouldWait)return Promise.resolve(w(o,s.data)).then((function(){}))}();return Promise.resolve(u&&u.then?u.then(a):a())}catch(t){return Promise.reject(t)}},n.onRequestError=function(t){this.transitions.isRunning=!1;var e=[].slice.call(arguments,1),r=e[0],n=e[1],i=this.cache.getAction(r);return this.cache.delete(r),this.B&&!1===this.B(t,i,r,n)||"click"===i&&this.force(r),!1},n.prefetch=function(t){var e=this;t=this.url.getAbsoluteHref(t),this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,"barba"),this.cache,this.headers).catch((function(t){e.logger.error(t)})),"prefetch","pending")},n.G=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.U),document.addEventListener("touchstart",this.U)),document.addEventListener("click",this.$),window.addEventListener("popstate",this.X)},n.J=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.U),document.removeEventListener("touchstart",this.U)),document.removeEventListener("click",this.$),window.removeEventListener("popstate",this.X)},n.U=function(t){var e=this,r=this.W(t);if(r){var n=this.url.getAbsoluteHref(this.dom.getHref(r));this.prevent.checkHref(n)||this.cache.has(n)||this.cache.set(n,this.request(n,this.timeout,this.onRequestError.bind(this,r),this.cache,this.headers).catch((function(t){e.logger.error(t)})),"enter","pending")}},n.$=function(t){var e=this.W(t);if(e){if(this.transitions.isRunning&&this.preventRunning)return t.preventDefault(),void t.stopPropagation();this.F=t,this.go(this.dom.getHref(e),e,t)}},n.X=function(t){this.go(this.url.getHref(),"popstate",t)},n.W=function(t){for(var e=t.target;e&&!this.dom.getHref(e);)e=e.parentNode;if(e&&!this.prevent.checkLink(e,t,this.dom.getHref(e)))return e},n.I=function(){var t=this.url.getHref(),e={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:r({href:t},this.url.parse(t))};this.D={current:e,event:void 0,next:r({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(t,[{key:"data",get:function(){return this.D}},{key:"wrapper",get:function(){return this.q}}]),t}();return new Y}()},5089:(t,e,r)=>{var n=r(930),i=r(9268),o=TypeError;t.exports=function(t){if(n(t))return t;throw o(i(t)+" is not a function")}},4676:(t,e,r)=>{var n=r(2255).has;t.exports=function(t){return n(t),t}},4226:(t,e,r)=>{var n=r(4004).has;t.exports=function(t){return n(t),t}},6112:(t,e,r)=>{var n=r(8759),i=String,o=TypeError;t.exports=function(t){if(n(t))return t;throw o(i(t)+" is not an object")}},6198:(t,e,r)=>{var n=r(4088),i=r(7740),o=r(2871),a=function(t){return function(e,r,a){var s,c=n(e),u=o(c),l=i(a,u);if(t&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},2306:(t,e,r)=>{var n=r(8240),i=n({}.toString),o=n("".slice);t.exports=function(t){return o(i(t),8,-1)}},375:(t,e,r)=>{var n=r(2371),i=r(930),o=r(2306),a=r(211)("toStringTag"),s=Object,c="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=s(t),a))?r:c?o(e):"Object"==(n=o(e))&&i(e.callee)?"Arguments":n}},8474:(t,e,r)=>{var n=r(9606),i=r(6095),o=r(4399),a=r(7826);t.exports=function(t,e,r){for(var s=i(e),c=a.f,u=o.f,l=0;l<s.length;l++){var h=s[l];n(t,h)||r&&n(r,h)||c(t,h,u(e,h))}}},2585:(t,e,r)=>{var n=r(5283),i=r(7826),o=r(5736);t.exports=n?function(t,e,r){return i.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},5736:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},1343:(t,e,r)=>{var n=r(930),i=r(7826),o=r(3712),a=r(9444);t.exports=function(t,e,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:e;if(n(r)&&o(r,u,s),s.global)c?t[e]=r:a(e,r);else{try{s.unsafe?t[e]&&(c=!0):delete t[e]}catch(t){}c?t[e]=r:i.f(t,e,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},9444:(t,e,r)=>{var n=r(2086),i=Object.defineProperty;t.exports=function(t,e){try{i(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},5283:(t,e,r)=>{var n=r(3677);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},7886:t=>{var e="object"==typeof document&&document.all,r=void 0===e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:r}},821:(t,e,r)=>{var n=r(2086),i=r(8759),o=n.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},4999:t=>{t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},1448:(t,e,r)=>{var n,i,o=r(2086),a=r(4999),s=o.process,c=o.Deno,u=s&&s.versions||c&&c.version,l=u&&u.v8;l&&(i=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(i=+n[1]),t.exports=i},8684:t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1695:(t,e,r)=>{var n=r(2086),i=r(4399).f,o=r(2585),a=r(1343),s=r(9444),c=r(8474),u=r(7189);t.exports=function(t,e){var r,l,h,f,d,p=t.target,g=t.global,v=t.stat;if(r=g?n:v?n[p]||s(p,{}):(n[p]||{}).prototype)for(l in e){if(f=e[l],h=t.dontCallGetSet?(d=i(r,l))&&d.value:r[l],!u(g?l:p+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof f==typeof h)continue;c(f,h)}(t.sham||h&&h.sham)&&o(f,"sham",!0),a(r,l,f,t)}}},3677:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},8516:(t,e,r)=>{var n=r(1175),i=r(5089),o=r(6059),a=n(n.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},6059:(t,e,r)=>{var n=r(3677);t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9413:(t,e,r)=>{var n=r(6059),i=Function.prototype.call;t.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},4398:(t,e,r)=>{var n=r(5283),i=r(9606),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1175:(t,e,r)=>{var n=r(2306),i=r(8240);t.exports=function(t){if("Function"===n(t))return i(t)}},8240:(t,e,r)=>{var n=r(6059),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);t.exports=n?a:function(t){return function(){return o.apply(t,arguments)}}},563:(t,e,r)=>{var n=r(2086),i=r(930);t.exports=function(t,e){return arguments.length<2?(r=n[t],i(r)?r:void 0):n[t]&&n[t][e];var r}},1667:(t,e,r)=>{var n=r(375),i=r(2964),o=r(1858),a=r(7719),s=r(211)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[n(t)]}},3546:(t,e,r)=>{var n=r(9413),i=r(5089),o=r(6112),a=r(9268),s=r(1667),c=TypeError;t.exports=function(t,e){var r=arguments.length<2?s(t):e;if(i(r))return o(n(r,t));throw c(a(t)+" is not iterable")}},2964:(t,e,r)=>{var n=r(5089),i=r(1858);t.exports=function(t,e){var r=t[e];return i(r)?void 0:n(r)}},2086:(t,e,r)=>{var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},9606:(t,e,r)=>{var n=r(8240),i=r(3060),o=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},7153:t=>{t.exports={}},6761:(t,e,r)=>{var n=r(5283),i=r(3677),o=r(821);t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},5974:(t,e,r)=>{var n=r(8240),i=r(3677),o=r(2306),a=Object,s=n("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},9277:(t,e,r)=>{var n=r(8240),i=r(930),o=r(4489),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},3278:(t,e,r)=>{var n,i,o,a=r(640),s=r(2086),c=r(8759),u=r(2585),l=r(9606),h=r(4489),f=r(8944),d=r(7153),p="Object already initialized",g=s.TypeError,v=s.WeakMap;if(a||h.state){var m=h.state||(h.state=new v);m.get=m.get,m.has=m.has,m.set=m.set,n=function(t,e){if(m.has(t))throw g(p);return e.facade=t,m.set(t,e),e},i=function(t){return m.get(t)||{}},o=function(t){return m.has(t)}}else{var b=f("state");d[b]=!0,n=function(t,e){if(l(t,b))throw g(p);return e.facade=t,u(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:n,get:i,has:o,enforce:function(t){return o(t)?i(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return r}}}},2814:(t,e,r)=>{var n=r(211),i=r(7719),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},930:(t,e,r)=>{var n=r(7886),i=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},7189:(t,e,r)=>{var n=r(3677),i=r(930),o=/#|\.prototype\./,a=function(t,e){var r=c[s(t)];return r==l||r!=u&&(i(e)?n(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},1858:t=>{t.exports=function(t){return null==t}},8759:(t,e,r)=>{var n=r(930),i=r(7886),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===o}:function(t){return"object"==typeof t?null!==t:n(t)}},3296:t=>{t.exports=!1},2071:(t,e,r)=>{var n=r(563),i=r(930),o=r(5516),a=r(1876),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&o(e.prototype,s(t))}},8712:(t,e,r)=>{var n=r(9413);t.exports=function(t,e,r){for(var i,o,a=r||t.next;!(i=n(a,t)).done;)if(void 0!==(o=e(i.value)))return o}},4722:(t,e,r)=>{var n=r(8516),i=r(9413),o=r(6112),a=r(9268),s=r(2814),c=r(2871),u=r(5516),l=r(3546),h=r(1667),f=r(6737),d=TypeError,p=function(t,e){this.stopped=t,this.result=e},g=p.prototype;t.exports=function(t,e,r){var v,m,b,w,y,k,x,S=r&&r.that,E=!(!r||!r.AS_ENTRIES),P=!(!r||!r.IS_RECORD),j=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),O=n(e,S),A=function(t){return v&&f(v,"normal",t),new p(!0,t)},_=function(t){return E?(o(t),T?O(t[0],t[1],A):O(t[0],t[1])):T?O(t,A):O(t)};if(P)v=t.iterator;else if(j)v=t;else{if(!(m=h(t)))throw d(a(t)+" is not iterable");if(s(m)){for(b=0,w=c(t);w>b;b++)if((y=_(t[b]))&&u(g,y))return y;return new p(!1)}v=l(t,m)}for(k=P?t.next:v.next;!(x=i(k,v)).done;){try{y=_(x.value)}catch(t){f(v,"throw",t)}if("object"==typeof y&&y&&u(g,y))return y}return new p(!1)}},6737:(t,e,r)=>{var n=r(9413),i=r(6112),o=r(2964);t.exports=function(t,e,r){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){s=!0,a=t}if("throw"===e)throw r;if(s)throw a;return i(a),r}},7719:t=>{t.exports={}},2871:(t,e,r)=>{var n=r(4005);t.exports=function(t){return n(t.length)}},3712:(t,e,r)=>{var n=r(8240),i=r(3677),o=r(930),a=r(9606),s=r(5283),c=r(4398).CONFIGURABLE,u=r(9277),l=r(3278),h=l.enforce,f=l.get,d=String,p=Object.defineProperty,g=n("".slice),v=n("".replace),m=n([].join),b=s&&!i((function(){return 8!==p((function(){}),"length",{value:8}).length})),w=String(String).split("String"),y=t.exports=function(t,e,r){"Symbol("===g(d(e),0,7)&&(e="["+v(d(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!a(t,"name")||c&&t.name!==e)&&(s?p(t,"name",{value:e,configurable:!0}):t.name=e),b&&r&&a(r,"arity")&&t.length!==r.arity&&p(t,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&p(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=h(t);return a(n,"source")||(n.source=m(w,"string"==typeof e?e:"")),t};Function.prototype.toString=y((function(){return o(this)&&f(this).source||u(this)}),"toString")},2255:(t,e,r)=>{var n=r(8240),i=Map.prototype;t.exports={Map,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete),proto:i}},8161:(t,e,r)=>{var n=r(8240),i=r(8712),o=r(2255),a=o.Map,s=o.proto,c=n(s.forEach),u=n(s.entries),l=u(new a).next;t.exports=function(t,e,r){return r?i(u(t),(function(t){return e(t[1],t[0])}),l):c(t,e)}},5681:t=>{var e=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(t){var n=+t;return(n>0?r:e)(n)}},7826:(t,e,r)=>{var n=r(5283),i=r(6761),o=r(8202),a=r(6112),s=r(2258),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,h="enumerable",f="configurable",d="writable";e.f=n?o?function(t,e,r){if(a(t),e=s(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&d in r&&!r[d]){var n=l(t,e);n&&n[d]&&(t[e]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:h in r?r[h]:n[h],writable:!1})}return u(t,e,r)}:u:function(t,e,r){if(a(t),e=s(e),a(r),i)try{return u(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},4399:(t,e,r)=>{var n=r(5283),i=r(9413),o=r(7446),a=r(5736),s=r(4088),c=r(2258),u=r(9606),l=r(6761),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=c(e),l)try{return h(t,e)}catch(t){}if(u(t,e))return a(!i(o.f,t,e),t[e])}},62:(t,e,r)=>{var n=r(1352),i=r(8684).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},6952:(t,e)=>{e.f=Object.getOwnPropertySymbols},5516:(t,e,r)=>{var n=r(8240);t.exports=n({}.isPrototypeOf)},1352:(t,e,r)=>{var n=r(8240),i=r(9606),o=r(4088),a=r(6198).indexOf,s=r(7153),c=n([].push);t.exports=function(t,e){var r,n=o(t),u=0,l=[];for(r in n)!i(s,r)&&i(n,r)&&c(l,r);for(;e.length>u;)i(n,r=e[u++])&&(~a(l,r)||c(l,r));return l}},7446:(t,e)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);e.f=i?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},7999:(t,e,r)=>{var n=r(9413),i=r(930),o=r(8759),a=TypeError;t.exports=function(t,e){var r,s;if("string"===e&&i(r=t.toString)&&!o(s=n(r,t)))return s;if(i(r=t.valueOf)&&!o(s=n(r,t)))return s;if("string"!==e&&i(r=t.toString)&&!o(s=n(r,t)))return s;throw a("Can't convert object to primitive value")}},6095:(t,e,r)=>{var n=r(563),i=r(8240),o=r(62),a=r(6952),s=r(6112),c=i([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=a.f;return r?c(e,r(t)):e}},9586:(t,e,r)=>{var n=r(1858),i=TypeError;t.exports=function(t){if(n(t))throw i("Can't call method on "+t);return t}},6914:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},8944:(t,e,r)=>{var n=r(9197),i=r(5422),o=n("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},4489:(t,e,r)=>{var n=r(2086),i=r(9444),o="__core-js_shared__",a=n[o]||i(o,{});t.exports=a},9197:(t,e,r)=>{var n=r(3296),i=r(4489);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.29.0",mode:n?"pure":"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.29.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5558:(t,e,r)=>{var n=r(1448),i=r(3677);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},7740:(t,e,r)=>{var n=r(9502),i=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?i(r+e,0):o(r,e)}},4088:(t,e,r)=>{var n=r(5974),i=r(9586);t.exports=function(t){return n(i(t))}},9502:(t,e,r)=>{var n=r(5681);t.exports=function(t){var e=+t;return e!=e||0===e?0:n(e)}},4005:(t,e,r)=>{var n=r(9502),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},3060:(t,e,r)=>{var n=r(9586),i=Object;t.exports=function(t){return i(n(t))}},1288:(t,e,r)=>{var n=r(9413),i=r(8759),o=r(2071),a=r(2964),s=r(7999),c=r(211),u=TypeError,l=c("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var r,c=a(t,l);if(c){if(void 0===e&&(e="default"),r=n(c,t,e),!i(r)||o(r))return r;throw u("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},2258:(t,e,r)=>{var n=r(1288),i=r(2071);t.exports=function(t){var e=n(t,"string");return i(e)?e:e+""}},2371:(t,e,r)=>{var n={};n[r(211)("toStringTag")]="z",t.exports="[object z]"===String(n)},9268:t=>{var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},5422:(t,e,r)=>{var n=r(8240),i=0,o=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},1876:(t,e,r)=>{var n=r(5558);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8202:(t,e,r)=>{var n=r(5283),i=r(3677);t.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},640:(t,e,r)=>{var n=r(2086),i=r(930),o=n.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},4004:(t,e,r)=>{var n=r(8240),i=WeakMap.prototype;t.exports={WeakMap,set:n(i.set),get:n(i.get),has:n(i.has),remove:n(i.delete)}},211:(t,e,r)=>{var n=r(2086),i=r(9197),o=r(9606),a=r(5422),s=r(5558),c=r(1876),u=n.Symbol,l=i("wks"),h=c?u.for||u:u&&u.withoutSetter||a;t.exports=function(t){return o(l,t)||(l[t]=s&&o(u,t)?u[t]:h("Symbol."+t)),l[t]}},1785:(t,e,r)=>{"use strict";var n=r(1695),i=r(4676),o=r(2255).remove;n({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,a=arguments.length;n<a;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},7197:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!1!==a(e,(function(t,n){if(!r(t,n,e))return!1}),!0)}})},7220:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(2255),s=r(8161),c=a.Map,u=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return s(e,(function(t,i){r(t,i,e)&&u(n,i,t)})),n}})},2806:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=a(e,(function(t,n){if(r(t,n,e))return{key:n}}),!0);return n&&n.key}})},9450:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=a(e,(function(t,n){if(r(t,n,e))return{value:t}}),!0);return n&&n.value}})},7859:(t,e,r)=>{"use strict";var n=r(1695),i=r(6914),o=r(4676),a=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===a(o(this),(function(e){if(i(e,t))return!0}),!0)}})},2150:(t,e,r)=>{"use strict";var n=r(1695),i=r(4676),o=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=o(i(this),(function(e,r){if(e===t)return{key:r}}),!0);return e&&e.key}})},1036:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(2255),s=r(8161),c=a.Map,u=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return s(e,(function(t,i){u(n,r(t,i,e),t)})),n}})},1521:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(2255),s=r(8161),c=a.Map,u=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0),n=new c;return s(e,(function(t,i){u(n,i,r(t,i,e))})),n}})},395:(t,e,r)=>{"use strict";var n=r(1695),i=r(4676),o=r(4722),a=r(2255).set;n({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var e=i(this),r=arguments.length,n=0;n<r;)o(arguments[n++],(function(t,r){a(e,t,r)}),{AS_ENTRIES:!0});return e}})},8343:(t,e,r)=>{"use strict";var n=r(1695),i=r(5089),o=r(4676),a=r(8161),s=TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var e=o(this),r=arguments.length<2,n=r?void 0:arguments[1];if(i(t),a(e,(function(i,o){r?(r=!1,n=i):n=t(n,i,o,e)})),r)throw s("Reduce of empty map with no initial value");return n}})},8974:(t,e,r)=>{"use strict";var n=r(1695),i=r(8516),o=r(4676),a=r(8161);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var e=o(this),r=i(t,arguments.length>1?arguments[1]:void 0);return!0===a(e,(function(t,n){if(r(t,n,e))return!0}),!0)}})},4783:(t,e,r)=>{"use strict";var n=r(1695),i=r(5089),o=r(4676),a=r(2255),s=TypeError,c=a.get,u=a.has,l=a.set;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var r=o(this),n=arguments.length;i(e);var a=u(r,t);if(!a&&n<3)throw s("Updating absent value");var h=a?c(r,t):i(n>2?arguments[2]:void 0)(t,r);return l(r,t,e(h,t,r)),r}})},4182:(t,e,r)=>{"use strict";var n=r(1695),i=r(4226),o=r(4004).remove;n({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=i(this),r=!0,n=0,a=arguments.length;n<a;n++)t=o(e,arguments[n]),r=r&&t;return!!r}})},663:function(t){t.exports=function(){"use strict";var t="undefined"!=typeof document&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(e){if("picture"===e.nodeName.toLowerCase()){var r=e.querySelector("img"),n=!1;null===r&&(r=document.createElement("img"),n=!0),t&&e.getAttribute("data-iesrc")&&(r.src=e.getAttribute("data-iesrc")),e.getAttribute("data-alt")&&(r.alt=e.getAttribute("data-alt")),n&&e.append(r)}if("video"===e.nodeName.toLowerCase()&&!e.getAttribute("data-src")&&e.children){for(var i=e.children,o=void 0,a=0;a<=i.length-1;a++)(o=i[a].getAttribute("data-src"))&&(i[a].src=o);e.load()}e.getAttribute("data-poster")&&(e.poster=e.getAttribute("data-poster")),e.getAttribute("data-src")&&(e.src=e.getAttribute("data-src")),e.getAttribute("data-srcset")&&e.setAttribute("srcset",e.getAttribute("data-srcset"));var s=",";if(e.getAttribute("data-background-delimiter")&&(s=e.getAttribute("data-background-delimiter")),e.getAttribute("data-background-image"))e.style.backgroundImage="url('"+e.getAttribute("data-background-image").split(s).join("'),url('")+"')";else if(e.getAttribute("data-background-image-set")){var c=e.getAttribute("data-background-image-set").split(s),u=c[0].substr(0,c[0].indexOf(" "))||c[0];u=-1===u.indexOf("url(")?"url("+u+")":u,1===c.length?e.style.backgroundImage=u:e.setAttribute("style",(e.getAttribute("style")||"")+"background-image: "+u+"; background-image: -webkit-image-set("+c+"); background-image: image-set("+c+")")}e.getAttribute("data-toggle-class")&&e.classList.toggle(e.getAttribute("data-toggle-class"))},loaded:function(){}};function r(t){t.setAttribute("data-loaded",!0)}var n=function(t){return"true"===t.getAttribute("data-loaded")},i=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)};return function(){var t,o,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".lozad",s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=Object.assign({},e,s),u=c.root,l=c.rootMargin,h=c.threshold,f=c.load,d=c.loaded,p=void 0;"undefined"!=typeof window&&window.IntersectionObserver&&(p=new IntersectionObserver((t=f,o=d,function(e,i){e.forEach((function(e){(0<e.intersectionRatio||e.isIntersecting)&&(i.unobserve(e.target),n(e.target)||(t(e.target),r(e.target),o(e.target)))}))}),{root:u,rootMargin:l,threshold:h}));for(var g,v=i(a,u),m=0;m<v.length;m++)(g=v[m]).getAttribute("data-placeholder-background")&&(g.style.background=g.getAttribute("data-placeholder-background"));return{observe:function(){for(var t=i(a,u),e=0;e<t.length;e++)n(t[e])||(p?p.observe(t[e]):(f(t[e]),r(t[e]),d(t[e])))},triggerLoad:function(t){n(t)||(f(t),r(t),d(t))},observer:p}}}()},5311:t=>{"use strict";t.exports=jQuery}},e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";r(4182);const t=window.top.document.querySelector("meta[name=atwiki-page-info]"),e=JSON.parse(t.dataset.pageInfoJson),n=e.wikiid||"",i=e.isSp,o=e.isRwdSp,a=e.templateId,s=302===a||303===a,c=(e.displayads,{article:e.articlePageid||0,menubar:e.menubarPageid||0,menubar2:e.menubar2Pageid||0}),u=e.hedit,l={article:e.articleHedit||!1,menubar:e.menubarHedit||!1,menubar2:e.menubar2Hedit||!1},h="atwiki-fast-load",f=window.top.document.querySelector(`meta[name=${h}]`),d="1"===f?.content;var p=r(5311);function g(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function v(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,b(t,e,"set"),r),r}function m(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,b(t,e,"get"))}function b(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var w=new WeakMap,y=new WeakMap,k=new WeakMap,x=new WeakMap,S=new WeakMap,E=new WeakMap,P=new WeakMap,j=new WeakMap,T=new WeakMap,O=new WeakMap,A=new WeakMap,_=new WeakMap,M=new WeakMap,R=new WeakMap;class L{constructor(){g(this,w,{writable:!0,value:p("#atwiki-page-tags")}),g(this,y,{writable:!0,value:p(".atwiki-tags-wrap")}),g(this,k,{writable:!0,value:p("#tags-sortable")}),g(this,x,{writable:!0,value:p("#atwiki-page-tagedit")}),g(this,S,{writable:!0,value:p("#edit_form").length}),g(this,E,{writable:!0,value:m(this,S)?p("#tags_pedit"):p("#atwiki-tags-edit")}),g(this,P,{writable:!0,value:m(this,x).data("username")||""}),g(this,j,{writable:!0,value:p("#hidden_tags")}),g(this,T,{writable:!0,value:m(this,E).data("popular-tags")}),g(this,O,{writable:!0,value:1===(m(this,E).data("ajax-suggest")||0)}),g(this,A,{writable:!0,value:p("#tags_textarea")}),g(this,_,{writable:!0,value:[]}),g(this,M,{writable:!0,value:[]}),g(this,R,{writable:!0,value:!1})}registEvent(){if(m(this,R))return!1;m(this,k).sortable({cursor:"grabbing",opacity:.5,placeholder:"tags-sorting",distance:4,forcePlaceholderSize:!0,helper:"clone",tolerance:"pointer",start:function(t,e){const r=p(e.helper);r.innerWidth(r.innerWidth()+1)},update:()=>{this.saveTags(),this.adjustTagAreaHeight()}}),m(this,E).on("keydown",(t=>{if(188===t.keyCode||13===t.keyCode)return this.addTags(),!1}));const t=this;p(document).on("click",".tags_delete",(function(){p(this).parent().remove(),t.saveTags(),m(t,E).blur()})),m(this,E).autocomplete({minLength:0,delay:m(this,O)||!m(this,S)?500:0,source:async(t,e)=>{const r=m(this,j).val().split(","),n=""!==t.term;if(m(this,M).length&&!n&&m(this,_).toString()===r.toString())return void e(m(this,M));const i=m(this,O)&&n||!m(this,S)?await this.getTagSuggest(t.term):Object.keys(m(this,T)).filter((e=>0===e.indexOf(t.term))).reduce(((t,e)=>(t[e]=m(this,T)[e],t)),{});r.forEach((t=>{delete i[t]}));const o=Object.keys(i).map((t=>({tag:t,num:i[t]})));e(o),v(this,_,r),n||v(this,M,o)},select:(t,e)=>(m(this,E).val(e.item.tag),this.addTags(),!1)}).autocomplete("instance")._renderItem=function(t,e){const r=p('<div class="tags-suggest">').append(p(`<div class="tags-label">${e.tag}</div>`)).append(p(`<div class="tags-num">${e.num}ãã¼ã¸</div>`));return p("<li>").append(r).appendTo(t)},m(this,E).on("focus",(()=>{m(this,A).css("box-shadow","0 0 2px 2px #58ACFA"),""===m(this,E).val().trim()&&m(this,E).autocomplete("search","")})).on("blur",(()=>{this.addTags(),m(this,A).css("box-shadow","none")})),d&&p(document).off("submit",".page-tag-edit"),p(document).on("submit",".page-tag-edit",(async t=>{t.preventDefault();const e=p(t.currentTarget),r=p(".atwiki-tagedit-modal").find('button[type="submit"]'),n=r.text();r.text(r.data("disable-with")).prop("disabled",!0);try{const t=await this.getToken(m(this,P));await this.post(e,t),r.text(n).prop("disabled",!1)}catch(t){(new z).showPopUp(t)}})),v(this,R,!0)}addTags(){const t=m(this,E).val().split(","),e=this;t.forEach((function(t){const r=p.trim(t);if(""===r)return;const n=m(e,S)?"tags_frame":"atwiki-tag-frame tags_frame";m(e,k).append(`<li class="${n}" title="${r}">${r}<span class="tags_delete" role="button" tabindex="0"></span></li>`)})),this.saveTags(),this.adjustTagAreaHeight(),m(this,E).val("")}saveTags(){const t=p(".tags_frame").map(((t,e)=>p(e).text())).get().join(",");m(this,j).val(t)}async getTagSuggest(t){try{const e=await p.ajax({type:"get",url:`/${n}/tag_suggest`,data:{word:t},dataType:"json"});return"ok"!==e?.status?[]:e?.body}catch(t){return[]}}getToken(t){return new Promise(((e,r)=>{""!==t&&e("");const n=m(this,x).data("sitekey");grecaptcha.ready((()=>{grecaptcha.execute(n,{action:"page_tags_edit"}).then((t=>{e(t)}),(()=>{r("ãã¼ã¯ã³ã®åå¾ã«å¤±æãã¾ããã")}))}))}))}async post(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=t.find(".page-tag-edit-hidden").val(),i=t.find(".page-original-tags").val(),o=m(this,x).data("pagename")||"";let a=[];try{a=await p.ajax({url:`/${n}/tag/`,type:"POST",data:{tags:r,original_tags:i,pagename:o,"g-recaptcha-response":e}})}catch(t){throw"ã¿ã°ã®æ´æ°ã«å¤±æãã¾ããã"}if("ok"!==(a.status||"ng"))throw a.body||"";const s=r.split(",");if(r.length){let t="";p.each(s,(function(e,r){t+=`<a class="atwiki-tag-frame" href="/${n}/tag/${encodeURIComponent(r).replace("%2F","%252F")}"><i class="atwiki-tag-icon fa fa-tag"></i>${r}</a>`}));const e=`<p class="atwiki-tag-notation">ã¿ã°ï¼</p>${t}`;m(this,y).html(e)}else m(this,y).find("a").remove();return p(".page-original-tags").val(s),m(this,w).css("margin-bottom",""),p(".atwiki-modal-bg").fadeOut(100),!0}adjustTagAreaHeight(){const t=m(this,w).outerHeight(),e=p(".atwiki-tagedit-modal").outerHeight()-t;m(this,w).css("margin-bottom",`${e}px`)}}var C=r(5311);function I(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function q(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,$(t,e,"get"))}function N(t,e,r){return function(t,e,r){if(e.set)e.set.call(t,r);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=r}}(t,$(t,e,"set"),r),r}function $(t,e,r){if(!e.has(t))throw new TypeError("attempted to "+r+" private field on non-instance");return e.get(t)}var H=new WeakMap,F=new WeakMap,D=new WeakMap,W=new WeakMap,B=new WeakMap,U=new WeakMap;class z{constructor(){I(this,H,{writable:!0,value:void 0}),I(this,F,{writable:!0,value:C("#atwiki-page-tags")}),I(this,D,{writable:!0,value:C(".atwiki-tagedit-modal")}),I(this,W,{writable:!0,value:C("#atwiki-modal-search-form")}),I(this,B,{writable:!0,value:C("#atwiki-modal-search-form .atwiki-search-input")}),I(this,U,{writable:!0,value:!1}),N(this,H,document.getElementById("atwiki-modal-file-display"))}openImage(t){const e=C(t),r=e.data("file-url"),n=e.data("file-name"),i=e.data("utime"),o=1===e.data("status")?`åé¤æ¥æ:${i} ${n}`:n;q(this,H).setAttribute("src",r),C(".atwiki-modal-title").text(o),C(".atwiki-modal-bg").fadeIn()}close(){C(".atwiki-modal-bg").fadeOut("fast",(()=>(null!==q(this,H)&&q(this,H).setAttribute("src","/common/_img/spacer.gif"),!1)))}run(){C(document).on("click",".atwiki-upload-thumbnail a",(t=>{this.openImage(t.currentTarget)}));const t=new L;if(C(".tags-edit-button").on("click",(async()=>{await this.getJqueryUiFile(),t.registEvent(),q(this,D).show(),t.adjustTagAreaHeight()})),i||a>300){const t="atwiki-fixed-search-modal";C(".atwiki-search:not(.atwiki-modal-search)").on("click",(async e=>{await this.getJqueryUiFile(),C(e.currentTarget).hasClass("atwiki-fixed-search")?q(this,W).addClass(t):q(this,W).removeClass(t),this.registSuggestEvent(),q(this,W).show(),q(this,B).focus()}))}C(document).on("click",".atwiki-word-search",(function(){C("#atwiki-modal-search-form .atwiki-search").submit()})),C(document).on("click",".atwiki-modal",(t=>{t.stopPropagation()})),C(document).on("click",".atwiki-modal-bg, .atwiki-modal-close",(()=>{this.close(),q(this,F).css("margin-bottom","")}))}registSuggestEvent(){if(q(this,U))return!1;const t=C(".atwiki-search-description"),e="#atwiki-modal-search-form .atwiki-modal-body",r="atwiki-word-search",i="ãã©ã¼ã ã«ã­ã¼ã¯ã¼ããå¥åãããã¨ã§è©²å½ãããã¼ã¸åãè¡¨ç¤ºããã¾ãã";t.text(i),q(this,B).autocomplete({minLength:0,delay:100,appendTo:e,source:async(e,n)=>{if(""===e.term)return C(`.ui-autocomplete li, .${r}`).remove(),t.text(i),!1;const o=await this.getPageNameSuggest(e.term);delete o[c.article],n(Object.keys(o).map((t=>({pageid:t,pagename:o[t]}))))},select:()=>(q(this,W).find('input[type="search"]').val(""),C(`.ui-autocomplete li, .${r}`).remove(),q(this,W).hide(),!1),response:(n,i)=>{C(`.${r}`).length||C(e).prepend(C(`<div class="${r}">å¨ææ¤ç´¢</div>`)),i.content.length||(C(".ui-autocomplete li").remove(),t.text("ã­ã¼ã¯ã¼ãã«è©²å½ãããã¼ã¸åãããã¾ããããå¨ææ¤ç´¢ããã¯ãªãã¯ãããã¨ã§ãã¼ã¸åã®æç« ããæ¤ç´¢ãããã¨ãã§ãã¾ãã"))},open:()=>{t.text(""),C(".ui-autocomplete").css({left:0,top:"36px"})}}).blur((function(){C("#atwiki-modal-search-form .ui-autocomplete").show()})).autocomplete("instance")._renderItem=function(t,e){const r=C(`<a class="atwiki-search-modal-link" href="/${n}/pages/${e.pageid}.html">${e.pagename}</a>`);return C("<li>").append(r).appendTo(t)},N(this,U,!0)}async getPageNameSuggest(t){try{const e=await C.ajax({type:"get",url:`/${n}/pagename_suggest`,data:{word:t},dataType:"json"});return"ok"!==e?.status?[]:e?.body}catch(t){return[]}}async getJqueryUiFile(){if(C('link[href*="/base/autocomplete.min.css"]').length)return!0;C("<link/>",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/themes/base/autocomplete.min.css"}).appendTo("head"),C("<link/>",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/themes/base/all.min.css"}).appendTo("head"),await C.getScript("https://cdn.jsdelivr.net/npm/jquery-ui@1.13.2/dist/jquery-ui.min.js")}showPopUp(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=C(".atwiki-popup-bg");""!==t&&r.find(".popup_body").text(t),e?r.find(".popup_reload_btn").show():r.find(".popup_reload_btn").hide(),r.show()}}var J=r(5311);function X(t,e,r){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,r)}function G(t,e){var r=function(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}(t,e);return function(t,e){return e.get?e.get.call(t):e.value}(t,r)}var Q=new WeakMap,K=new WeakMap,V=new WeakMap,Y=new WeakMap;class Z{constructor(){X(this,Q,{writable:!0,value:i?{article:"#atwiki-sp-wikibody",menubar:"#atwiki-menupage",menubar2:"#atwiki-menupage2"}:{article:"#wikibody",menubar:"#menubar",menubar2:"#menubar2"}}),X(this,K,{writable:!0,value:['h2[id^="id_"]',"h3","h4","h5","h6"].join()}),X(this,V,{writable:!0,value:[".plugin_include",".plugin_include_by_search",".plugin_splitinclude_item",".plugin_include_random"].join()}),X(this,Y,{writable:!0,value:{}})}addLink(t,e,r){e in G(this,Y)||(G(this,Y)[e]=[0,0,0,0,0]),t.find(G(this,K)).each(((i,o)=>{const a=J(o),s=a.closest(G(this,V));if(s.length>0){const e=s.data("added-hedit-link")||0,r=s.data("pageid")||0,n=s.data("hedit")||0;if(1===e||0===r)return!0;if(!s.is(t))return this.addLink(s,r,n),s.data("added-hedit-link",1),!0}if(!r)return!0;const u=e!==c.article?`?read_pageid=${c.article}`:"",l=Number(a.prop("tagName").slice(1))-1;G(this,Y)[e][l-1]++;const h=G(this,Y)[e].slice(0,l).join("-");a.append(`<a class="atwiki-hedit" title="é¨åç·¨é" href="/${n}/pedit/${e}/${h}${u}" rel="nofollow"></a>`)})),G(this,Y)[e]=[0,0,0,0,0]}run(){if(u)for(const t in G(this,Q)){const e=l[t]||!1,r=c[t]||0,n=J(G(this,Q)[t]);r<=0||n.length<=0||this.addLink(n,r,e)}}}class tt{constructor(t){var e,r,n;e=this,n=!1,(r=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(r="adserverRequestSent"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,void 0!==t&&(this.enablePbjsFlux=this.isPbjsFlux(),this.apstagSlots={slots:t},this.pbjstagSlots=this.pbjstagSlotsFlux(t))}async requestBids(){const t=this.apsfetchBidsAsync(),e=this.pbjsrequestBidsAsync();await Promise.all([t,e]),this.sendAdserverRequest()}pbjstagSlotsFlux(t){return!!this.enablePbjsFlux&&t.map((t=>({code:t.slotName,id:t.slotID})))}sendAdserverRequest(){if(!0!==this.adserverRequestSent)return this.adserverRequestSent=!0,apstag.setDisplayBids(),this.enablePbjsFlux&&pbjs.setTargetingForGPTAsync(this.pbjstagSlots.map((t=>t.id))),!0}apsfetchBidsAsync(){return new Promise((t=>{apstag.fetchBids(this.apstagSlots,t)}))}pbjsrequestBidsAsync(){return this.enablePbjsFlux?new Promise((t=>{pbFlux.refresh({lines:this.pbjstagSlots,callback:t})})):Promise.resolve(1)}isFn(t){return"[object Function]"===Object.prototype.toString.call(t)}isPbjsFlux(){return!!(window.pbFlux&&pbFlux.refresh&&this.isFn(pbFlux.refresh)&&pbjs.setTargetingForGPTAsync&&this.isFn(pbjs.setTargetingForGPTAsync))}}function et(t,e,r){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}window.googletag=window.googletag||{cmd:[]};class rt{constructor(t){et(this,"isAndroid",/Android.+Mobile/.test(navigator.userAgent)),et(this,"isScrolled",!1),et(this,"refreshSlotName","bottom_native|pc_overlay"),et(this,"refreshInterval",parseInt("35000")??35e3),et(this,"maxRefreshCount",parseInt("10")??5),et(this,"refreshCount",0),et(this,"denyCampaignList",[3184002396]),et(this,"denyAdvertiserList",[]),et(this,"refreshSlots",[]),et(this,"refreshSlotsList",[]);const e=this.detectRefreshSlots(t);Object.assign(this,{refreshSlots:e}),this.scrollCheckEvent=this.scrollCheck.bind(this),this.callRefreshEvent=this.callRefresh.bind(this),this.execEvent=this.exec.bind(this)}detectRefreshSlots(t){return t.filter((t=>this.isRefreshSlot(t)))}filterRefreshSlots(t){return t.reduce(((t,e)=>{if(t=t.refreshSlots&&t.refreshSlotsList?t:{refreshSlots:[],refreshSlotsList:[]},!this.checkEnableRefreshslot(e))return t;const r=e.getSlotElementId(),n=e.getAdUnitPath(),i=e.getSizes().reduce(((t,e)=>("fluid"!==e&&t.push([e.getWidth(),e.getHeight()]),t)),[]);return t.refreshSlots.push(e),t.refreshSlotsList.push({slotID:r,slotName:n,sizes:i}),t}),{})}checkEnableRefreshslot(t){const e=t.getResponseInformation();return null!==e&&(!this.isAndroid||!this.denyAdvertiserList.includes(e.advertiserId)&&!this.denyCampaignList.includes(e.campaignId))}async callRefresh(){this.refreshSlots.forEach((t=>{0===t.getTargeting("atwiki-reload").length&&t.setTargeting("atwiki-reload","true")}));const t=new tt(this.refreshSlotsList);await t.requestBids(),googletag.pubads().refresh(this.refreshSlots),this.isScrolled=!1}async exec(t){const e=t.slot;this.isRefreshSlot(e)&&(googletag.pubads().removeEventListener("slotOnload",this.execEvent),Object.assign(this,this.filterRefreshSlots(this.refreshSlots)),this.refreshSlots.length<1||(document.addEventListener("scroll",this.scrollCheckEvent,{once:!0}),await new Promise((t=>setTimeout(t,this.refreshInterval))),this.isScrolled?await this.callRefresh():(document.removeEventListener("scroll",this.scrollCheckEvent),document.addEventListener("scroll",this.callRefreshEvent,{once:!0})),this.refreshCount++,this.refreshCount<this.maxRefreshCount&&googletag.pubads().addEventListener("slotOnload",this.execEvent)))}isRefreshSlot(t){return RegExp(this.refreshSlotName).test(t.getSlotElementId())}init(){this.refreshSlots.length<1||googletag.pubads().addEventListener("slotOnload",this.execEvent)}scrollCheck(){this.isScrolled||(this.isScrolled=!0)}}const nt=()=>{googletag.cmd.push((()=>{new rt(googletag.pubads().getSlots()).init()}))};r(1785),r(7197),r(7220),r(9450),r(2806),r(7859),r(2150),r(1036),r(1521),r(395),r(8343),r(8974),r(4783);var it=r(5530),ot=r.n(it),at=r(663),st=r.n(at);class ct{constructor(){var t,e,r;t=this,r=2,(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e="displayads"))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}replaceBody(t){const e=document.body,r=t.next.html.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],n=document.createElement("body");n.innerHTML=r,(o?["nav.responsive-header-btn",s?"div#atwiki-offcanvas":"div#atwiki-bootstrap-offcanvas"]:["nav.sp-header-btn","div#atwiki-footer-footnote","div#menubar","div#atwiki-offcanvas"]).forEach((t=>{const r=e.querySelector(t);if(null!==r){const e=n.querySelector(t);r.replaceWith(e)}}))}replaceHead(t){const e=document.head,r=t.next.html.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],n=document.createElement("head");n.innerHTML=r;const i=n.querySelector("meta[name='atwiki-page-info']");if(null!==i){const t=JSON.parse(i.dataset.pageInfoJson);this.displayads=t.displayads}if(null===e.querySelector(`meta[name='${h}']`)){const t=(()=>{const t=document.createElement("meta");return t.name=h,t.content="1",t})();e.firstChild.before(t)}const o="https://www.google.com/recaptcha/api.js",a=e.querySelector(`script[src^='${o}']`),s=n.querySelector(`script[src^='${o}']`);if(null===a&&null!==s){const t=document.createElement("script");t.src=s.src,t.async=!0,e.firstChild.before(t)}const c=["meta[name='description']","meta[property^='og']","meta[name^='twitter']","meta[name='counter-hash']","meta[name='atwiki-page-info']","link[rel='canonical']","script[type='application/ld+json']","script#atwiki-ajaxjs","script.cmdjs","script.pluginjs","style.plugincss","link.plugincss","script.atwiki-starter"].join(",");e.querySelectorAll(c).forEach((t=>{e.removeChild(t)}));const u=n.querySelectorAll(c),l=document.createDocumentFragment();u.forEach((t=>{if(t.getElementsByTagName("SCRIPT")&&t.hasAttribute("src")){const e=document.createElement("script");e.src=t.src,t?.className&&(e.className=t.className),t?.id&&(e.id=t.id),t?.dataset?.classlist&&(e.dataset.classlist=t.dataset.classlist),l.appendChild(e)}else l.appendChild(t)})),e.appendChild(l),window.twttr=function(t,e,r){let n,i=t.getElementsByTagName(e)[0],o=window.twttr||{};return t.getElementById(r)||(n=t.createElement(e),n.id=r,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),o._e=[],o.ready=function(t){o._e.push(t)}),o}(document,"script","twitter-wjs"),window.twttr.ready((function(t){t.widgets.load()}))}preventSettings(t){const e=t.href;let r=`${location.protocol}//${location.host}/${n}/`;if(!e.startsWith(r))return!0;const i=location.pathname;if(!(i.endsWith(`/${n}/`)||i.endsWith(`/${n}`)||i.includes("/popular_list")||i.includes("/list")||i.includes("/pages/")))return!0;if(e.endsWith(`/${n}/`)||e.endsWith(`/${n}`))return!1;if(e.includes("/popular_list")||e.includes("/list"))return!1;let o=location.protocol+"//"+location.host+location.pathname,a=e.replace(/#.*$/,"");return!!(e.startsWith(location.protocol+"//"+location.host)&&e.indexOf("#")>-1&&a!==o)||!e.includes("/pages/")}}const ut=()=>{const t=new ct;ot().init({prevent:t.preventSettings}),ot().hooks.beforeEnter((e=>{t.replaceBody(e),t.replaceHead(e);const r=[{slotID:"div-gpt-ad-atwiki_320_50_sp_top_ad",slotName:"/9160377/atwiki_320_50_sp_top_ad",sizes:[[300,250]]},{slotID:"div-gpt-ad-atwiki_300_250_sp_middle_ad",slotName:"/9160377/atwiki_300_250_sp_middle_ad",sizes:[[300,250]]},{slotID:"div-gpt-ad-sp_bottom_native",slotName:"/9160377/sp_bottom_native",sizes:[[320,50]]}],i=new Map(r.reduce(((t,r)=>{const n=e.next.container.querySelector(`#${r.slotID}`);return null!==n?[...t,[r.slotID,n]]:t}),[]));if(i.size===r.length){if(!googletag?.apiReady){console.log("googletag not loaded");const t=document.createElement("SCRIPT");t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",t.async=!0;const e=document.createElement("SCRIPT");e.src="https://flux-cdn.com/client/gamewith/atwiki.min.js",e.async=!0;const r=document.getElementsByTagName("head")[0].firstChild,n=document.createDocumentFragment();[t,e].forEach((t=>{n.appendChild(t)})),r.before(n),function(t,e,r,n,i,o,a){function s(r,n){e[t]._Q.push([r,n])}e[t]||(e[t]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},(o=r.createElement(n)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=r.getElementsByTagName(n)[0]).parentNode.insertBefore(o,a))}("apstag",window,document,"script"),apstag.init({pubID:"3674",adServer:"googletag",bidTimeout:1500})}googletag.cmd.push((async function(){const e=0===googletag.pubads().getSlots().length;e?googletag.pubads().disableInitialLoad():googletag.destroySlots(),new Map([["wikiid",n],["page_type","standard"],["displayads",t.displayads],["traffic_group",Math.floor(100*Math.random())<10?"explore":"optimization"],["traffic_group2",Math.floor(100*Math.random())<10?"explore":"optimization"]]).forEach(((t,r)=>{e||googletag.pubads().clearTargeting(r),googletag.pubads().setTargeting(r,String(t))}));const o=googletag.sizeMapping().addSize([0,0],[[300,250],[320,100],[320,180]]).addSize([350,300],[[300,250],[336,280],[320,100],[320,180]]).build();r.forEach((t=>{t.slotID.includes("sp_top_ad")||t.slotID.includes("sp_middle_ad")?googletag.defineSlot(t.slotName,[300,250],t.slotID).defineSizeMapping(o).addService(googletag.pubads()):googletag.defineSlot(t.slotName,["fluid",[320,50],[320,100]],t.slotID).addService(googletag.pubads()),googletag.display(t.slotID)})),e&&(googletag.pubads().enableSingleRequest(),googletag.pubads().collapseEmptyDivs(),googletag.enableServices());const a=new tt(r);await a.requestBids();const s=[],c=[];googletag.pubads().getSlots().forEach((t=>{const e=i.get(t.getSlotElementId());void 0!==e&&(e.classList.contains("atwiki_ads_eagar")?s.push(t):c.push(t))})),googletag.pubads().refresh(s),st()(".atwiki_ads_lazy",{rootMargin:"100%",load(t){googletag.cmd.push((function(){googletag.pubads().refresh(c.filter((function(e){return e.getSlotElementId()===t.id})))}))}}).observe(),nt()}))}})),ot().hooks.enter((()=>{window.scrollTo(0,0)})),ot().hooks.after((t=>{const e=document.body,r=t.next.html.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],n=document.createElement("body");if(n.appendChild(document.createRange().createContextualFragment(r)),null!==n.querySelector("#atwiki-sp-wikibody script")){const t=n.querySelector("#atwiki-sp-wikibody");e.querySelector("#atwiki-sp-wikibody").replaceWith(t)}}))};var lt=r(5311),ht=r(5311);window.atwiki_j$=window.j$=window.jQuery,function(){if(d)return;var t;nt(),(i||o)&&(t=ut,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t());const e=lt("#atwiki_preview_area"),r=e.length>0;i&&lt(document).on("click",".atwiki-link-pc-mode>button",(function(){location.href=`${location.pathname}?pc_mode=1`}));const n=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:550;if("#"===t||""===t)return!1;const o=-1===(t=decodeURIComponent(t)).indexOf("#")?1:t.indexOf("#")+1,a=lt("#"+t.slice(o).replace(/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g,"\\$&"));if(a.length<=0)return!1;const s=a.parents(".atwiki_plugin_region").find(".atwiki_plugin_region_button").filter((function(){return"+"===this.textContent.trim()})),c=a.parents(".plugin-openclose").find(".plugin-openclose-link > a");if((s.length>0||c.length>0)&&"complete"!==document.readyState)return void window.addEventListener("load",(function(){n(t,i)}),!0);s?.trigger("click"),c?.trigger("click");const u=r&&"scroll"===e.css("overflow"),l=u?e.offset().top-e.scrollTop():r?lt(".atwiki-preview-title").outerHeight():lt("#atwiki-fixed-nav").outerHeight(),h=u?e:lt("html, body"),f=function(t){const e=a.offset().top,n=e-l;a.is(":hidden")||h.animate({scrollTop:n},t,"swing").promise().done((function(){r||a.offset().top===e||(t=Math.floor(t/2))<=1||f(t)}))};return f(i),!0};lt(document).on("click",'a[href*="#"]:not(.not-pagelink), .atwiki-jump-button',(function(){const t=lt(this).data("to")||lt(this).attr("href");if(!function(t){if("string"!=typeof t||""===t)return!1;if(t.startsWith("//")&&(t=location.protocol+t),!1===URL.canParse(t))return!1;const e=new URL(t);return e.hostname+e.pathname!==location.hostname+location.pathname}(t))return n(t)&&!r&&history.pushState(null,null,t),!1}));const a=decodeURIComponent(location.hash);""!==a&&n(a)}(),ht((function(t){if((new z).run(),t('a[href=""]').addClass("atwiki-link-disabled").removeAttr("href"),0===t(".atwiki_edit_split").length){const e=t("#atwiki-fixed-nav");let r=!1,n=!1;const i=function(){const i=t("header").outerHeight(),o=t(window).scrollTop();r=o>=i,r!==n&&(n=r,r?e.fadeIn():e.fadeOut())};t(window).on("ready scroll resize",i)}t(".atwiki-contents a:has(img), .atwiki-sp-contents a:has(img)").each((function(){const e=t(this);if("none"!==e.find("img").css("float")){const r=e.find("img").outerHeight();e.css({position:"relative"}).append(t('<div class="atwiki-link-img-icon">').css({bottom:-r}))}else e.css({display:"inline-block",position:"relative"}).append(t('<div class="atwiki-link-img-icon">'))})),(new Z).run(),t(".atwiki-simple-submit").on("click",(function(){t(this).css({"pointer-events":"none",opacity:"0.5"})}));const e="atwiki-footer-ads-space",r=document.getElementById("atwiki-ads-overlay");if(r&&0===t(`.atwiki-footer > .${e}`).length){const n=new MutationObserver((function(){const i=t(r).outerHeight(!0)||0;i>=90&&(t(".atwiki-footer").append(t("<div>").addClass(e).css("height",i)),n.disconnect())}));n.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0});const i=t("#atwiki-ads-overlay-close");i.length>0&&i.on("click",(function(){n.disconnect(),t(`.${e}`).hide(),t(r).hide()}))}i&&(t.fn.inlineStyle=function(e){return this.prop("style")[t.camelCase(e)]})}))})()})();